<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  

  <link rel="shortcut icon" href="/volt-mx-docs/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/volt-mx-docs/assets/css/just-the-docs-default.css">
  <link rel="stylesheet" href="/volt-mx-docs/assets/css/custom.css">
  

  
    <script type="text/javascript" src="/volt-mx-docs/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/volt-mx-docs/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>WorkerThread Object | VoltMx</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="WorkerThread Object" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<meta property="og:description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<link rel="canonical" href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_api_dev_guide/content/workerthreadobject_methods.html" />
<meta property="og:url" content="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_api_dev_guide/content/workerthreadobject_methods.html" />
<meta property="og:site_name" content="VoltMx" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="WorkerThread Object" />
<script type="application/ld+json">
{"url":"https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_api_dev_guide/content/workerthreadobject_methods.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://hcl-tech-software.github.io/volt-mx-docs/Volt_Mx_logo.png"}},"headline":"WorkerThread Object","description":"Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-search" viewBox="0 0 24 24">
    <title>Search</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
      <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
  </symbol>
</svg>

<div class="header-wrap">
  
  <div class="top-header">
    <div class="site-header">
      <a href="https://hcl-tech-software.github.io/volt-mx-docs/" class="site-title lh-tight">
  <div class="site-logo"></div>

</a>
      <a href="#" id="mainmenu-button"  class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
  </div>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div id="main-header" class="main-header">
  
   
   <!-- <div class="search-prepare" id="search-prepare">
    <p><img src=" /volt-mx-docs/assets/images/preload.gif" style="height: 24px; width: 24px; margin-right: 5px;" /> Preparing your search results...</p>
  </div>  -->
     <div class="search">
    
       <div class="search-input-wrap">
         <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="search resources..." aria-label="Search VoltMx" autocomplete="off">
         <label for="search-input" class="search-label" id="searchButton"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
                 </div>
                        
       <div id="search-results" class="search-results"></div>

       
     </div>
   
   <ul class="page-nav" id="page-nav">
    <li><a href="#">Community</a></li>
    <li><a href="#" class="active">Learn</a></li>
    <li><a href="#">Releases</a></li>
    <li><a href="#">Training</a></li>
    <li><a href="#">Ideas</a></li>
    <li><a href="#">Marketplace</a></li>
    <li><a href="#">Login</a></li>
  </ul>
  

  
 </div>
 <script>
   const pageNav = document.getElementById('page-nav');
    const mainHeader = document.getElementById('main-header');
    const mainmenuButton = document.getElementById('mainmenu-button');
  (function(){
   
   mainmenuButton.addEventListener('click', function(){
     pageNav.classList.toggle('nav-open');
});
})();

</script>
  <div class="sub-nav-wrap" id="myDIV">
    <ul class="sub-nav" >
        <li >
            <a href="/volt-mx-docs/docs/getting-started/"  class="sub-link">Getting Started</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/tutorials/" class="sub-link">Tutorials</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/documentation/" class="sub-link">Documentation</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/articles/" title="test" class="sub-link">Articles</a>
        </li>
    </ul>
    <a href="#" id="menu-button" class="site-button">
        <!-- <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> -->
        select a topic <svg viewBox="0 0 24 24" class="carat-topic"><use xlink:href="#svg-arrow-right"></use></svg>
      </a>
</div>
</div> 

<style>
  .sub-nav a[href*="/documentation/"] {
   border-bottom: 3px #d694f9 solid;
}
</style>
<div class="content-wrap">
  <div class="side-bar scrollable-container">
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav scrollable">
      <ul class="nav-list"><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/foundrySDKs.html" class="nav-list-link">Foundry SDKs</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/voltmxFoundryFundamentals.html" class="nav-list-link">VoltMX Foundry Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/fundamentals.html" class="nav-list-link">Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/projectorg.html" class="nav-list-link">Project Organization</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appUserInterface.html" class="nav-list-link">App User Interface</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/widgetApiReference.html" class="nav-list-link">Widgets & API Reference</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/webAppDevelopment.html" class="nav-list-link">Web App Development</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataBackEndIntergration.html" class="nav-list-link">Data & Back-end Integration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/buildAndPublish.html" class="nav-list-link">Build and Publish</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/extensibility.html" class="nav-list-link">Extensibility</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/security.html" class="nav-list-link">Security</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/howTosSampleApps.html" class="nav-list-link">How Tos & Sample Apps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataIntegrationServices.html" class="nav-list-link">Data Integration Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/offlineObjects.html" class="nav-list-link">Offline Objects</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/apiMangement.html" class="nav-list-link">API Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appServicesAdminitration.html" class="nav-list-link">App Services Administration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/advancedServerFeature.html" class="nav-list-link">Advanced Server Features</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/analyticsAndApm.html" class="nav-list-link">Analytics and APM</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/engagementServices.html" class="nav-list-link">Engagement Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/quantumSync.html" class="nav-list-link">VoltMX Sync (Legacy)</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/devOps.html" class="nav-list-link">DevOps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/heradlessAndContinuousIntegration.html" class="nav-list-link">Headless and Continuous Integration Build</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/installationManagement.html" class="nav-list-link">Installation & Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/deployment.html" class="nav-list-link">Deployment</a></li></ul>
    </nav>
  
  </div>
  
    <div class="main scrollable-container" id="top">
      
      <div id="main-content-wrap" class="main-content-wrap scrollable">
        
          
        
        <div id="main-content" class="main-content" role="main">
          
            <h1 id="workerthread-object">
        
        
          <a href="#workerthread-object" class="anchor-heading" aria-labelledby="workerthread-object"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> WorkerThread Object
        
        
      </h1>
    

<p>The WorkerThread object is used to manage a worker thread. For more details, see <a href="worker_apis.html">Worker Thread API</a>.</p>

<p>The WorkerThread Object contains the following API elements.</p>
      <h2 id="methods">
        
        
          <a href="#methods" class="anchor-heading" aria-labelledby="methods"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Methods
        
        
      </h2>
    

<p>The WorkerThread object contains the following methods.</p>
      <h2 id="addeventlistener">
        
        
          <a href="#addeventlistener" class="anchor-heading" aria-labelledby="addeventlistener"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> addEventListener
        
        
      </h2>
    

<p>Event Handlers can be registered using <em>addEventListener()</em> method on the worker Objects and once registered messages and errors from a worker thread can be received in parent thread.</p>

<p>Due to the asynchronous parallel execution nature of the newly created worker thread, which starts executing the worker JS script upon creation. It is always advisable to immediately register the ‘message’ event handler as well as ‘error’ event handler on the worker handle in parent thread context after creation of the worker. This ensures that posted messages or errors in worker scope are handed over to the respective ‘message’ or ‘error’ event listeners in parent scope.</p>

<p><em>message</em> event handler:</p>

<p>Registered “message” event handler will be invoked in Parent or Worker thread whenever postMessage() is called from inner scope of Worker or Parent thread.</p>

<ol>
  <li>In parent scope, call to worker.<em>postmessage()</em> invokes <em>message</em> event handler registered using <em>addEventListener()</em> in Workers inner Scope.</li>
  <li>In worker scope, call to <em>postmessage()</em> invokes <em>message</em> event handler registered using <em>addEventListener()</em> in Parents scope.</li>
</ol>

<p>Multiple <em>message</em> event handlers can also be registered in parent scope and workers inner scope and all the registered event handlers will be invoked in the registered order whenever a postMessage() is called.</p>

<p><em>error</em> event listener:</p>

<p>The <em>error</em> handler can also be registered using <em>addEventListener</em> () in parent thread scope on worker object and as well as in worker thread’s inner scope, which will be invoked whenever an unhandled exception occurs in workers inner scope.</p>

<p>The error event object has the following three fields: message, filename, lineno.</p>

<p>If an <em>error</em> event handler is registered in worker inner scope and in parent scope on the worker object, then both the event handlers are invoked in case of an unhandled exception in worker’s inner scope.</p>

<p>Multiple <em>error</em> event handlers can be registered on the worker handle in parent scope and also in worker threads inner scope. Registered <em>error</em> event handlers will be invoked in the order of registration in case of unhandled exception in worker thread.</p>

<p>If an <em>error</em> event handler is not registered for a worker in parent scope or in worker inner scope and if an unhandled exception arises in worker’s inner scope then worker halts execution and no error info is propagated.</p>

<p>The <em>error</em> event handlers work for unhandled exceptions occurring only in worker scope but not in main parent scope.</p>

<p>Syntax</p>

<p>Parent Scope:</p>

<p>worker.addEventListener(key,listener)</p>

<p>Worker Scope:</p>

<p>addEventListener(key,listener)<br />
self.addEventListener(key,listener)<br />
this.addEventListener(key, listener)</p>

<p>Input Parameters</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>key</td>
      <td><em>message</em>: When message event handler is being registered. <em>error:</em> When error event handler is being registered.</td>
    </tr>
    <tr>
      <td>listener</td>
      <td>The listener parameter indicates the event listener function to be added.</td>
    </tr>
  </tbody>
</table>

<p> </p>

<p>Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">//Parent Scope
var worker = new voltmx.worker.WorkerThread("worker1.js");

var evtMessageHandler\_1 = function(event) {
    voltmx.print("Parent Scope : In message handler 1");
};
var evtErrorHandler\_1 = function(event) {
    voltmx.print("Parent Scope: In error handler 1");

    voltmx.print('ERROR: Line ' + event.lineno + ' in ' + event.filename + ': ' + event.message);
};</code></pre>
</figure>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">//"message" event handler:


//Parent Scope
var worker = new voltmx.worker.WorkerThread("worker1.js");

var evtMessageHandler\_1 = function(event) {
    voltmx.print("Parent Scope : In message handler 1");
};

var evtMessageHandler\_2 = function(event) {
    voltmx.print("Parent Scope : In message handler 2");
};

worker.addEventListener("message", evtMessageHandler\_1);
worker.addEventListener("message", evtMessageHandler\_2);



//Worker Scope
var evtMessageHandler\_1 = function(event) {
    voltmx.print("Worker Scope : In message handler 1");
};

self.addEventListener("message", evtMessageHandler\_1);
//or
this.addEventListener("message", evtMessageHandler\_1);
//or
addEventListener("message", evtMessageHandler\_1);</code></pre>
</figure>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">//"error" event listener:


//Parent Scope
var worker = new voltmx.worker.WorkerThread("worker1.js");

var evtErrorHandler\_1 = function (event) {
     voltmx.print("Parent Scope: In error handler 1");
            
voltmx.print('ERROR: Line ' + event.lineno + ' in ' + event.filename + ': ' + event.message);

};
  
var evtErrorHandler\_2 = function (event) {
     voltmx.print("Parent Scope: In error handler 2");
};

//
worker.addEventListener("error", evtErrorHandler\_1);
worker.addEventListener("error", evtErrorHandler\_2);



//Worker Scope
var evtErrorHandler\_1 = function (event) {
     voltmx.print("Worker Scope: In error handler 1");
};
  

self.addEventListener("error", evtErrorHandler\_1);

//or
this.addEventListener("error", evtErrorHandler\_1);

//or
addEventListener("error", evtErrorHandler\_1);</code></pre>
</figure>

<p>Return Values</p>

<p>None</p>

<p>Exceptions</p>

<ol>
  <li>If no argument is given or if the number of arguments are less than two, it raises an exception and throws a “VoltMXError” JS Object with the following attributes:</li>
</ol>

<p>errorCode: 3001.<br />
name: “WorkerThreadError”.<br />
message: “addEventListener: MissingMandatoryParameter. Mandatory arguments missing”</p>

<ol>
  <li>If the first argument is not equal to “message” or “error” and if second argument is not a function object, it raises an exception and throws a “VoltMXError” JS Object with the following attributes:</li>
</ol>

<p>errorCode: 3002.<br />
name: “WorkerThreadError”.<br />
message: “addEventListener: InvalidParameter. Invalid arguments”</p>

<ol>
  <li>In Worker scope if these exceptions are not handled and if an “error” event handler is registered in worker’s inner scope or/and in Parent scope for this worker object then it is invoked with an error event object and its message attribute set to following.</li>
</ol>

<p>In case of exception 1)</p>

<p>message: “addEventListener: MissingMandatoryParameter . Mandatory arguments missing”</p>

<p>In case of exception 2)</p>

<p>message: “addEventListener: InvalidParameter. Invalid arguments”</p>

<ol>
  <li>In Parent(not a worker to some other parent) scope if these exceptions are not handled registered “error” event handler will not be invoked.</li>
</ol>

<p>Platform Availability</p>

<p>Available for iOS, Android, Windows, SPA, and Desktop Web. For more information, see <a href="worker_apis.html#scope">Scope</a>.</p><hr />
      <h2 id="close">
        
        
          <a href="#close" class="anchor-heading" aria-labelledby="close"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> close
        
        
      </h2>
    

<p>Worker thread can be terminated from inner scope of the worker by invoking close(). The worker thread is killed immediately without an opportunity to complete its operations or clean up.</p>

<p>The tasks pending in the message queue and callbacks registered for network, timer APIs etc are discarded without wait until completion.</p>

<p>Syntax</p>

<p>Worker Scope:</p>

<p>close()<br />
self.close()<br />
this.close()</p>

<p>Input Parameters</p>

<p>None</p>

<p>Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">//worker init

//post a message to parent
self.postMessage("Hello from Worker");

//do some work

//terminate this worker from inner scope
self.close();</code></pre>
</figure>

<p>Return Values</p>

<p>None</p>

<p>Platform Availability</p>

<p>Available for iOS, Android, Windows, SPA, and Desktop Web. For more information, see <a href="worker_apis.html#scope">Scope</a>.</p>

<p>Limitations</p>

<p>As the worker threading model is mapped to underlying native threading models in native platforms, there can be some deviations from what specification says, this is due to technical limitations in the underlying platforms which include:</p>

<ul>
  <li>When close() is invoked in worker scope, and if worker is currently executing a large task, it might not immediately terminate, it will continue to execute the task to completion and then terminate.</li>
  <li>When close () is invoked in worker scope, and if there are pending tasks waiting in the message queues for this worker to perform, some platforms might discard all the pending tasks without accepting them for execution and terminate, and on some platform all the pending tasks are executed to completion and then the worker terminates.</li>
  <li>Hence it is to be noted that to achieve cross platform consistency, it is always advised that close() be invoked in worker scope once all the tasks in message queues are completed.</li>
</ul><hr />
      <h2 id="postmessage">
        
        
          <a href="#postmessage" class="anchor-heading" aria-labelledby="postmessage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> postMessage
        
        
      </h2>
    

<p>postMessage() sends a JSON object or String message to the Parent/worker’s scope by invoking respective registered “message” event handlers.</p>

<ul>
  <li>In Parent thread scope, call to worker.postMessage() invokes “message” event handler which is registered using addEventListener() in Workers inner Scope.</li>
  <li>In Worker thread scope, call to postMessage() invokes “message” event handler which is registered using addEventListener() in Parents scope.</li>
</ul>

<p>The JSON or string object passed to <em>postMessage()</em> is delivered to the registered “message” event handler. The “event” object “data” attribute will have the message passed: “event.data”.</p>

<p>Adhering to the JSON standard, the JSON object passed to postMessage() API should be serializeble JSON without opaque object handles or function object handles.</p>

<p>Syntax</p>

<p>postMessage(<String> or <JSON>)</JSON></String></p>

<p>Parent Scope:</p>

<p>//JSON Object<br />
worker.postMessage({‘msg’ : ‘hello’})</p>

<p>//String<br />
worker.postMessage(“messsage hello”)</p>

<p>Worker Scope:</p>

<p>//JSON Object<br />
postMessage({‘msg’ : ‘hello’})</p>

<p>//String<br />
postMessage(“messsage hello”)</p>

<p>Input Parameters</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>String</td>
      <td>For parent scope, here is an example: worker.<code class="language-plaintext highlighter-rouge">postMessage("messsage hello");</code> For worker scope, here is an example: <code class="language-plaintext highlighter-rouge">postMessage("messsage hello");</code></td>
    </tr>
    <tr>
      <td>JSON Object</td>
      <td>For parent scope, here is an example: worker.<code class="language-plaintext highlighter-rouge">postMessage({'msg' : 'hello'});</code> For worker scope, here is an example: <code class="language-plaintext highlighter-rouge">postMessage({'msg' : 'hello'});</code></td>
    </tr>
  </tbody>
</table>

<p>Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">var worker = new voltmx.worker.WorkerThread("worker1.js");

// Parent scope:
//JSON Object
worker.postMessage({
    'msg': 'hello'
});

//String
worker.postMessage('message hello');

// Worker scope: 

//JSON Object
postMessage({
    'msg': 'hello'
});
//or
this.postMessage({
    'msg': 'hello'
});
//or
self.postMessage({
    'msg': 'hello'
});


//String
postMessage('message hello');
//or
this.postMessage('message hello');
//or
self.postMessage('message hello'); </code></pre>
</figure>

<p>Return Values</p>

<p>None</p>

<p>Exceptions</p>

<ol>
  <li>If no argument is given it raises an exception and throws a “VoltMXError” JS Object with the following attributes:</li>
</ol>

<p>errorCode: 3001.<br />
name: “WorkerThreadError”.<br />
message: “postMessage: MissingMandatoryParameter. Message undefined”</p>

<ol>
  <li>If the message argument passed is not String or JSON object, it raises an exception and throws a “VoltMXError” JS Object with the following attributes:</li>
</ol>

<p>errorCode: 3002.<br />
name: “WorkerThreadError”.<br />
message: “postMessage: InvalidParameter. Invalid Message”</p>

<ol>
  <li>In Worker scope if these exceptions are not handled and if an “error” event handler is registered in worker’s inner scope or/and in Parent scope for this worker object then it is invoked with an error event object and its message attribute set to following.</li>
</ol>

<p>In case of exception 1:</p>

<p>message: “postMessage: MissingMandatoryParameter. Message undefined”</p>

<p>In case of exception 2:</p>

<p>message: “postMessage: InvalidParameter. Invalid Message”</p>

<ol>
  <li>In Parent (not a worker to some other parent) scope if these exceptions are not handled registered “error” event handler will not be invoked.</li>
</ol>

<p>Platform Availability</p>

<p>Available for iOS, Android, Windows, SPA, and Desktop Web. For more information, see <a href="worker_apis.html#scope">Scope</a>.</p><hr />
      <h2 id="removeeventlistener">
        
        
          <a href="#removeeventlistener" class="anchor-heading" aria-labelledby="removeeventlistener"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> removeEventListener
        
        
      </h2>
    

<p>This API is used to remove the previously registered <em>message</em> or <em>error</em> event listener that was registered using <em>addEventListener</em>().</p>

<p>This API can be used in both parent and worker scope.</p>

<p>Syntax</p>

<p>Parent Scope:</p>

<p>worker.removeEventListener(key,listener)</p>

<p>Worker Scope:</p>

<p>removeEventListener(key,listener)<br />
self.removeEventListener(key,listener)<br />
this.removeEventListener(key, listener)</p>

<p>Input Parameters</p>

<p>key</p>

<table>
  <thead>
    <tr>
      <th>Key</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td>In case of message event handler.</td>
    </tr>
    <tr>
      <td>error</td>
      <td>In case of error event handler.</td>
    </tr>
    <tr>
      <td>listener</td>
      <td>The listener parameter indicates the event listener function to be removed.</td>
    </tr>
  </tbody>
</table>

<p> </p>

<p>Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">"message" event handler:

//Parent Scopevar worker = new voltmx.worker.WorkerThread("worker1.js");

var evtMessageHandler\_1 = function(event) {
    voltmx.print("Parent Scope : In message handler 1");
};

var evtMessageHandler\_2 = function(event) {
    voltmx.print("Parent Scope : In message handler 2");
};

//Adding event listeners
worker.addEventListener("message", evtMessageHandler\_1);
worker.addEventListener("message", evtMessageHandler\_2);

//Removing event listener
worker.removeEventListener("message", evtMessageHandler\_2);


//Worker Scope
var evtMessageHandler\_1 = function(event) {
    voltmx.print("Worker Scope : In message handler 1");
};

var evtMessageHandler\_2 = function(event) {
    voltmx.print("Worker Scope : In message handler 2");
};

//Adding event listeners
self.addEventListener("message", evtMessageHandler\_1);
self.addEventListener("message", evtMessageHandler\_2);

//Removing event listener
self.removeEventListener("message", evtMessageHandler\_2);</code></pre>
</figure>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">"error" event listener:

//Parent Scope
var worker = new voltmx.worker.WorkerThread("worker1.js");

var evtErrorHandler\_1 = function(event) {
    voltmx.print("Parent Scope: In error handler 1");
};

var evtErrorHandler\_2 = function(event) {
    voltmx.print("Parent Scope: In error handler 2");
};

//adding event listeners
worker.addEventListener("error", evtErrorHandler\_1);
worker.addEventListener("error", evtErrorHandler\_2);

//removing event listener
worker.removeEventListener("error", evtErrorHandler\_2);


//Worker Scope
var evtErrorHandler\_1 = function(event) {
    voltmx.print("Worker Scope: In error handler 1");
};

var evtErrorHandler\_2 = function(event) {
    voltmx.print("Worker Scope: In error handler 2");
};

//adding event listeners
self.addEventListener("error", evtErrorHandler\_1);
self.addEventListener("error", evtErrorHandler\_2);

//removing event listener
self.removeEventListener("error", evtErrorHandler\_2);</code></pre>
</figure>

<p>Exceptions</p>

<ol>
  <li>If no argument is given or if the number of arguments are less than two, it raises an exception and throws a “VoltMXError” JS Object with the following attributes:</li>
</ol>

<p>errorCode: 3001.<br />
name: “WorkerThreadError”.<br />
message: “removeEventListener: MissingMandatoryParameter. Mandatory arguments missing”</p>

<ol>
  <li>If the first argument is not equal to “message” or “error” and if second argument is not a function object, it raises an exception and throws a “VoltMXError” JS Object with the following attributes:</li>
</ol>

<p>errorCode: 3002.<br />
name: “WorkerThreadError”.<br />
message: “removeEventListener: InvalidParameter. Invalid arguments”</p>

<ol>
  <li>In Worker scope if these exceptions are not handled and if an “error” event handler is registered in worker’s inner scope or/and in Parent scope for this worker object then it is invoked with an error event object and its message attribute set to following.</li>
</ol>

<p>In case of exception 1:</p>

<p>message: “removeEventListener: MissingMandatoryParameter. Mandatory arguments missing”</p>

<p>In case of exception 2:</p>

<p>message: “removeEventListener: InvalidParameter. Invalid arguments”</p>

<ol>
  <li>In Parent(not a worker to some other parent) scope if these exceptions are not handled registered “error” event handler will not be invoked.</li>
</ol>

<p>Platform Availability</p>

<p>Available for iOS, Android, Windows, SPA, and Desktop Web. For more information, see <a href="worker_apis.html#scope">Scope</a>.</p><hr />
      <h2 id="terminate">
        
        
          <a href="#terminate" class="anchor-heading" aria-labelledby="terminate"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> terminate
        
        
      </h2>
    

<p>When called from parent scope immediately terminates the worker. This does not offer the worker an opportunity to finish its operations. It is simply stopped at once.</p>

<p>The tasks pending in the message queue and callbacks registered for network, timer APIs are discarded without wait until completion.</p>

<p>Syntax</p>

<p>worker.terminate()</p>

<p>Input Parameters</p>

<p>None</p>

<p>Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">var worker = new voltmx.worker.WorkerThread("worker1.js");

//Post a message to the worker
worker.postMessage("Hello from Parent");

//Terminate the worker
worker.terminate();</code></pre>
</figure>

<p>Return Values</p>

<p>None</p>

<p>Platform Availability</p>

<p>Available for iOS, Android, Windows, SPA, and Desktop Web. For more information, see <a href="worker_apis.html#scope">Scope</a>.</p>

<p>Limitations</p>

<p>As the worker threading model is mapped to underlying native threading models in native platforms, there can be some deviations from what specification says, this is due to technical limitations in the underlying platforms which include:</p>

<ul>
  <li>When terminate() is invoked in Parent thread on worker, and if worker is currently executing a large task, it might not immediately terminate, it will continue to execute the task to completion and terminate.</li>
  <li>When terminate() is invoked in Parent thread on worker, and if there are pending tasks waiting in the message queues for this worker to perform, some platforms might discard all the pending tasks without accepting them for execution and terminate, and on some platform all the pending tasks are executed to completion and then the worker terminates.</li>
  <li>Hence it is to be noted that to achieve cross platform consistency, it is always advised that terminate() be invoked on the worker once all the tasks in message queues are completed.</li>
</ul>

<p><img src="resources/prettify/onload.png" alt="" /></p>

          
  
          
  
          
          
           
              <!--<p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 HCL Digital Solutions</p>-->

  
              
                <div class="d-flex mt-2">
                  
                  
                </div>
              
            </footer>
          
  
        </div>
      </div>
  
      
        
  
        <div class="search-overlay"></div>
      
  
      
    </div>
  
    
    <div class="right-menu scrollable-container" >
      <div class="scrollable">
        
<nav role="navigation" aria-label="Main" id="sub-site-nav" class="site-nav" >
<ul class="nav-list">
  
</ul>

</nav>

    <script>
     const subpageNav = document.getElementById('sub-site-nav');
     const submainmenuButton = document.getElementById('sub-menu-button');
    
   (function(){
    submainmenuButton.addEventListener('click', function(){ 
      document.getElementById('site-nav').classList.remove('nav-open');
      subpageNav.classList.toggle('nav-open');
 });
})();
</script>

      </div>
  </div></div>


 <!-- footer from footer html -->
 <footer>

    <!-- The Modal -->
<div id="copyright-modal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <p>
        Copyright © 2021 HCL - August, 2020 - All rights reserved.
      </p>
      <p>This document contains information proprietary to HCL., is bound by the HCL license agreements, and may not be used except in the context of understanding the use and methods of HCL., software without prior, express, written permission. HCL, Empowering Everywhere, HCL Foundry, HCL Flare, and HCL Iris are trademarks of HCL. MobileFoundry is a registered trademark of HCL. Microsoft, the Microsoft logo, Internet Explorer, Windows, and Windows Vista are registered trademarks of Microsoft Corporation. Apple, the Apple logo, iTunes, iPhone, iPad, OS X, Objective-C, Safari, Apple Pay, Apple Watch, and Xcode are trademarks or registered trademarks of Apple, Inc. Google, the Google logo, Android, and the Android logo are registered trademarks of Google, Inc. Chrome is a trademark of Google, Inc. BlackBerry, PlayBook, Research in Motion, and RIM are registered trademarks of BlackBerry. SAP® and SAP® Business Suite® are registered trademarks of SAP SE in Germany and in several other countries. All other terms, trademarks, or service marks mentioned in this document have been capitalized and are to be considered the property of their respective owners.</p>
    </div>
  
  </div>
    <div class="foot-wrap">
        <div class="foot-nav">
            &copy; <a href="#" id="copyrightBtn">Copyright</a> 2021 HCL Technologies Limited. 
            <a href="https://hcltechsw.com/wps/portal/legal/privacy" style="margin-left: 10px;">Privacy Statement</a> | <a href="#">Terms of Use</a>
        </div>
        <ul class="social-nav">
            <li><a href="#" class="facebook">Facebook</a></li>
            <li><a href="#" class="linkedin">LinkedIn</a></li>
            <li><a href="#" class="twitter">Twitter</a></li>
            <li><a href="#" class="youtube">Youtube</a></li>
            <li><a href="#" class="glassdoor">Glassdoor</a></li>
        </ul>
    </div>

    
</footer>
<script>
    var modal = document.getElementById("copyright-modal");

// Get the button that opens the modal
var btn = document.getElementById("copyrightBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on the button, open the modal
btn.onclick = function(e) {
    e.preventDefault();
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
  document.querySelector("span.close").onclick = function() {
  modal.style.display = "none";
}
document.onkeydown = function(evt) {
    evt = evt || window.event;
    if (evt.keyCode == 27) {
      modal.style.display = "none";
    }
};
// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}


</script>
</body>
</html>
