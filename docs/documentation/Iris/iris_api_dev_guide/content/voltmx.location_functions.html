<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  

  <link rel="shortcut icon" href="/volt-mx-docs/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/volt-mx-docs/assets/css/just-the-docs-default.css">
  <link rel="stylesheet" href="/volt-mx-docs/assets/css/custom.css">
  

  
    <script type="text/javascript" src="/volt-mx-docs/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/volt-mx-docs/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>voltmx.location Namespace | VoltMx</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="voltmx.location Namespace" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<meta property="og:description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<link rel="canonical" href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_api_dev_guide/content/voltmx.location_functions.html" />
<meta property="og:url" content="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_api_dev_guide/content/voltmx.location_functions.html" />
<meta property="og:site_name" content="VoltMx" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="voltmx.location Namespace" />
<script type="application/ld+json">
{"url":"https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_api_dev_guide/content/voltmx.location_functions.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://hcl-tech-software.github.io/volt-mx-docs/Volt_Mx_logo.png"}},"headline":"voltmx.location Namespace","description":"Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-search" viewBox="0 0 24 24">
    <title>Search</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
      <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
  </symbol>
</svg>

<div class="header-wrap">
  
  <div class="top-header">
    <div class="site-header">
      <a href="https://hcl-tech-software.github.io/volt-mx-docs/" class="site-title lh-tight">
  <div class="site-logo"></div>

</a>
      <a href="#" id="mainmenu-button"  class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
  </div>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div id="main-header" class="main-header">
  
   
   <!-- <div class="search-prepare" id="search-prepare">
    <p><img src=" /volt-mx-docs/assets/images/preload.gif" style="height: 24px; width: 24px; margin-right: 5px;" /> Preparing your search results...</p>
  </div>  -->
     <div class="search">
    
       <div class="search-input-wrap">
         <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="search resources..." aria-label="Search VoltMx" autocomplete="off">
         <label for="search-input" class="search-label" id="searchButton"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
                 </div>
                        
       <div id="search-results" class="search-results"></div>

       
     </div>
   
   <ul class="page-nav" id="page-nav">
    <li><a href="#">Community</a></li>
    <li><a href="#" class="active">Learn</a></li>
    <li><a href="#">Releases</a></li>
    <li><a href="#">Training</a></li>
    <li><a href="#">Ideas</a></li>
    <li><a href="#">Marketplace</a></li>
    <li><a href="#">Login</a></li>
  </ul>
  

  
 </div>
 <script>
   const pageNav = document.getElementById('page-nav');
    const mainHeader = document.getElementById('main-header');
    const mainmenuButton = document.getElementById('mainmenu-button');
  (function(){
   
   mainmenuButton.addEventListener('click', function(){
     pageNav.classList.toggle('nav-open');
});
})();

</script>
  <div class="sub-nav-wrap" id="myDIV">
    <ul class="sub-nav" >
        <li >
            <a href="/volt-mx-docs/docs/getting-started/"  class="sub-link">Getting Started</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/tutorials/" class="sub-link">Tutorials</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/documentation/" class="sub-link">Documentation</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/articles/" title="test" class="sub-link">Articles</a>
        </li>
    </ul>
    <a href="#" id="menu-button" class="site-button">
        <!-- <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> -->
        select a topic <svg viewBox="0 0 24 24" class="carat-topic"><use xlink:href="#svg-arrow-right"></use></svg>
      </a>
</div>
</div> 

<style>
  .sub-nav a[href*="/documentation/"] {
   border-bottom: 3px #d694f9 solid;
}
</style>
<div class="content-wrap">
  <div class="side-bar scrollable-container">
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav scrollable">
      <ul class="nav-list"><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/foundrySDKs.html" class="nav-list-link">Foundry SDKs</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/voltmxFoundryFundamentals.html" class="nav-list-link">VoltMX Foundry Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/fundamentals.html" class="nav-list-link">Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/projectorg.html" class="nav-list-link">Project Organization</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appUserInterface.html" class="nav-list-link">App User Interface</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/widgetApiReference.html" class="nav-list-link">Widgets & API Reference</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/webAppDevelopment.html" class="nav-list-link">Web App Development</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataBackEndIntergration.html" class="nav-list-link">Data & Back-end Integration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/buildAndPublish.html" class="nav-list-link">Build and Publish</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/extensibility.html" class="nav-list-link">Extensibility</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/security.html" class="nav-list-link">Security</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/howTosSampleApps.html" class="nav-list-link">How Tos & Sample Apps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataIntegrationServices.html" class="nav-list-link">Data Integration Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/offlineObjects.html" class="nav-list-link">Offline Objects</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/apiMangement.html" class="nav-list-link">API Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appServicesAdminitration.html" class="nav-list-link">App Services Administration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/advancedServerFeature.html" class="nav-list-link">Advanced Server Features</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/analyticsAndApm.html" class="nav-list-link">Analytics and APM</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/engagementServices.html" class="nav-list-link">Engagement Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/quantumSync.html" class="nav-list-link">VoltMX Sync (Legacy)</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/devOps.html" class="nav-list-link">DevOps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/heradlessAndContinuousIntegration.html" class="nav-list-link">Headless and Continuous Integration Build</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/installationManagement.html" class="nav-list-link">Installation & Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/deployment.html" class="nav-list-link">Deployment</a></li></ul>
    </nav>
  
  </div>
  
    <div class="main scrollable-container" id="top">
      
      <div id="main-content-wrap" class="main-content-wrap scrollable">
        
          
        
        <div id="main-content" class="main-content" role="main">
          
            <h1 id="voltmxlocation-namespace">
        
        
          <a href="#voltmxlocation-namespace" class="anchor-heading" aria-labelledby="voltmxlocation-namespace"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> voltmx.location Namespace
        
        
      </h1>
    

<p>The voltmx.location namespace defines a high-level interface to location information. It contains the following API elements.</p>
      <h2 id="functions">
        
        
          <a href="#functions" class="anchor-heading" aria-labelledby="functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Functions
        
        
      </h2>
    

<p>The <code class="language-plaintext highlighter-rouge">voltmx.location</code> namespace provides the following functions.</p>

<p><a href="javascript:void(0);"><img src="/volt-mx-docs/docs/documentation/Iris/iris_api_dev_guide/Skins/Default/Stylesheets/Images/transparent.gif" alt="Closed" /></a><a href="javascript:void(0);">voltmx.location.checkLocationSettings</a></p><hr />

<p>This API is used to check whether the current location settings on the device meet the desired location accuracy setting specified by the <a href="#accuracyMode">accuracyMode</a> property.</p>

<p>If the value of the requestModifyLocationSettings parameter is set as false, and if the location settings in the device do not meet the required <a href="#accuracyMode">accuracyMode</a>, the errorCallback is invoked with SETTINGS_RESOLUTION_REQUIRED errorCode.</p>

<p>When the errorCallback is invoked with the SETTINGS_RESOLUTION_REQUIRED errorCode, you can display a custom dialog box that explains the reason your app needs location access along with the Accept and Decline options. When the user selects Accept on the custom dialog box to enable location, you can invoke the API again with the same accuracyMode and the requestModifyLocationSettings parameter set to true.</p>

<p>Syntax</p>

<p>voltmx.location.checkLocationSettings(params);</p>

<p>Parameters</p>

<p><strong>params [Object] - Mandatory</strong></p>

<p>Using the params parameter, the user can customize the behavior of the API. It is an object that has the following key-value pairs:</p>

<table>
  <thead>
    <tr>
      <th>key</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>accuracyMode [Number] - Optional</td>
      <td>Specifies the accuracy and power requirements to be met while fetching location updates. The default value for accuracyMode is constants.ACCURACY_HIGH. The possible values for accuracyMode are: <strong>constants.ACCURACY_HIGH</strong>: Used to request the most accurate locations available. <strong>constants.ACCURACY_NO_POWER</strong>: Used to request the best accuracy possible with no additional power consumption. <strong>constants.ACCURACY_BALANCED_POWER</strong>: Used to request “block” level accuracy. Block level accuracy is considered to be about 100 meter accuracy. Using a coarse accuracy such as this often consumes less power. <strong>constants.ACCURACY_LOW_POWER</strong>: Used to request “city” level accuracy. City level accuracy is considered to be about 10km accuracy. Using a coarse accuracy such as this often consumes less power.</td>
    </tr>
    <tr>
      <td>requestModifyLocationSettings [Boolean] - Optional</td>
      <td>When you set this option to true, if the location settings in the device do not meet the required <a href="#accuracyMode">accuracyMode</a>, a system dialog box is automatically invoked that helps the user enable the necessary location settings with a single tap. However, if you invoke the API (with the requestModifyLocationSettings parameter set to true) when the app runs in the background, based on the Android OS version, the dialog box may not appear on a device. Based on the value of <a href="#accuracyMode">accuracyMode</a>, the Android system ensures that the required location settings(such as GPS, WIFI Scanning, Mobile Network/Data) are enabled on the device (based on the Android OS version and the device manufacturer). Based on Android Native behavior on Android 9 (API level 28) or later devices, GPS is automatically turned on (by the Android system) for all the accuracy modes except <strong>constants.ACCURACY_LOW_POWER</strong>.</td>
    </tr>
    <tr>
      <td>onSuccess [Function] - Mandatory</td>
      <td>The callback function to be executed when the device has the necessary settings enabled for the desired <a href="#accuracyMode">accuracyMode</a>. This callback is invoked even when the user accepts the setting change that is requested with the <a href="#requestModifyLocationSettings">requestModifyLocationSettings</a> parameter set to true.</td>
    </tr>
    <tr>
      <td>onFailure [Function] - Mandatory</td>
      <td>The callback function to be executed when the location settings are not adequate due to various errors as indicated by the <strong>errorCode</strong> argument of this callback. For information on the error codes, refer <a href="#LocationErrorCodes">Location Settings Error Codes</a>.</td>
    </tr>
  </tbody>
</table>

<p>Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">function successcallback1() {
    alert("All location settings are satisfied. The client can initialize location requests now.");
}

function errorcallback1(errorCode) {
    if (errorCode == voltmx.location.SETTINGS\_RESOLUTION\_REQUIRED) {
        alert("Location settings are not satisfied. Call this API again by setting requestModifyLocationSettings value to true then it will show the user a dialog to resolve location settings.");
    } else if (errorCode == voltmx.location.SETTINGS\_MODIFICATION\_REQUEST\_DENIED) {
        alert("The user denied the settings change.");
    }
}
var params = {
    requestModifyLocationSettings: true,
    accuracyMode: constants.ACCURACY\_BALANCED\_POWER,
    onSuccess: successcallback1,
    onFailure: errorcallback1
};
voltmx.location.checkLocationSettings(params);</code></pre>
</figure>

<p>Return Values</p>

<p>None.</p>

<p>Exceptions</p>

<p>Location Settings Error Codes</p>

<table>
  <thead>
    <tr>
      <th>Error Code</th>
      <th>Error Message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>com.location.SETTINGS_RESOLUTION_REQUIRED</td>
      <td>Indicates that location settings in the device currently do not meet the desired accuracyMode . However, they can be modified by the end-user if requested using requestModifyLocationSettings set to true.</td>
    </tr>
    <tr>
      <td>com.location.SETTINGS_CHANGE_UNAVAILABLE</td>
      <td>This indicates Location settings in the device currently do not meet the desired accuracyMode , and we have no way to fix the settings.</td>
    </tr>
    <tr>
      <td>com.location.SETTINGS_MODIFICATION_REQUEST_DENIED</td>
      <td>This indicates that the user was requested to change the settings, but the user denied the settings change request.</td>
    </tr>
    <tr>
      <td>com.location.GOOGLE_PLAY_SERVICES_UNAVAILABLE</td>
      <td>This indicates that Google Play Location services are not available on this device to call this API.</td>
    </tr>
  </tbody>
</table>

<p> </p>

<p>Remarks</p>

<ul>
  <li>Ensure that you enable the <strong>Use Google Play Location Services</strong> check box in the <strong>Project Settings</strong> &gt; <strong>Native</strong> &gt; <strong>Android Mobile/Tablet</strong> section.</li>
  <li>You do not need access to location permissions to use this API.</li>
</ul>

<p>Platform Availability</p>

<p>Available on Android platform.</p><hr />

<p><a href="javascript:void(0);"><img src="/volt-mx-docs/docs/documentation/Iris/iris_api_dev_guide/Skins/Default/Stylesheets/Images/transparent.gif" alt="Closed" /></a><a href="javascript:void(0);">voltmx.location.clearWatch</a></p><hr />

<p>When invoked, the clearWatch first checks the value of the given watchID argument. If this value does not correspond to any previously started watch process, then the method returns immediately without performing any further action. Otherwise, the watch process identified by the watchID argument is stopped immediately and no further callbacks are invoked.</p>

<p>Syntax</p>

<p>voltmx.location.clearWatch(<br />
    watchID);</p>

<p>Parameters</p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><em>watchID</em> [Number] - Mandatory</td>
      <td>Specifies the number that uniquely identifies the watch.</td>
    </tr>
  </tbody>
</table>

<p>Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">voltmx.location.clearWatch(watchID);</code></pre>
</figure>

<p><strong>MVC</strong></p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">stopWatchingPosition: function() {
    try {
        voltmx.location.clearWatch(this.watchID); // clears/stops watching position of the user which was being monitored using watchPosition API
        alert("Cleared !");
    } catch (exception) {
        alert(exception);
    }

    /\* Please see example of clearWatch() in "frmTrackingUserLocation" Form of [sample app](http://docs.voltmx.com/voltmxlibrary/iris/zip/sampleapps/LocationApp.zip) \*/
}</code></pre>
</figure>

<p>Free Form</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">function stopWatchingPosition () {
  try{
    voltmx.location.clearWatch(watchID); // clears/stops watching position of the user which was being monitored using watchPosition API
    alert("Cleared !");
  }catch(exception){
    alert(exception);
  }
}</code></pre>
</figure>

<p>Return Values</p>

<p>None.</p>

<p>Exceptions</p>

<p>LocationError</p>

<p>Error</p>

<p>Platform Availability</p>

<p>Available on all platforms except Desktop Web.</p><hr />

<p><a href="javascript:void(0);"><img src="/volt-mx-docs/docs/documentation/Iris/iris_api_dev_guide/Skins/Default/Stylesheets/Images/transparent.gif" alt="Closed" /></a><a href="javascript:void(0);">voltmx.location.getCurrentPosition</a></p><hr />

<p>Using the getCurrentPostion function, you can get the current location of the device.</p>

<p>Syntax</p>

<p>voltmx.location.getCurrentPosition(<br />
    successcallback,<br />
    errorcallback,<br />
    positionoptions)</p>

<p>Parameters</p>

<p><strong>successcallback [Function] - Mandatory</strong></p>

<p>The successcallback function specifies the callback function that must be executed when the API call is successful. The signature of the callback function is successcallback(position) where, <strong>position</strong> contains the coordinates of the geo-location that are created and returned by the API. It is an object that contains certain key-value pairs.</p>

<blockquote>
  <p>coords [Object] - Coordinates that has the following key-value pairs:</p>

  <table>
    <thead>
      <tr>
        <th>key</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>latitude [Number]</td>
        <td>Latitude in decimal degrees.</td>
      </tr>
      <tr>
        <td>longitude [Number]</td>
        <td>Longitude in decimal degrees.</td>
      </tr>
      <tr>
        <td>altitude [Number]</td>
        <td>Height of the location in meters above the ellipsoid.</td>
      </tr>
      <tr>
        <td>accuracy [Number]</td>
        <td>Accuracy level of the latitude and longitude coordinates in meters.</td>
      </tr>
      <tr>
        <td>altitudeaccuracy [Number]</td>
        <td>Accuracy level of the altitude coordinate in meters.</td>
      </tr>
      <tr>
        <td>heading [Number]</td>
        <td>Direction of travel, specified in degrees counting clockwise relative to the true north.</td>
      </tr>
      <tr>
        <td>speeding [Number]</td>
        <td>Current ground speed of the device, specified in meters per second.</td>
      </tr>
      <tr>
        <td>timestamp [Number]</td>
        <td>Represents the time when the Position object was acquired.</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<p><strong>errorcallback [Function] - Optional</strong></p>

<p>The errorcallback function specifies the callback function that must be executed when the API call fails. The callback function has the following signature:</p>

<p>errorcallback(positionerror)- positionerror is an object that has the following key-value pairs:</p>

<table>
  <thead>
    <tr>
      <th>key</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>code [Number]</td>
      <td>error code.</td>
    </tr>
    <tr>
      <td>message [String]</td>
      <td>error message.</td>
    </tr>
  </tbody>
</table>

<p>For more information on the Error codes and messages, refer <a href="#ErrorCode">error code</a>.</p>

<p><strong>positionoptions [Object] - Optional</strong></p>

<p>Using the positionoptions parameter, the user can customize the retrieval of the geolocation. It is an object that has the following key-value pairs:</p>

<p>| key | Description |
| — | — |
| accuracyMode [Number] | Specifies the accuracy and power requirements to be met while fetching the device location. The default value for accuracyMode is constants.ACCURACY_BALANCED_POWER.</p>
<blockquote>
  <p><strong><em>Note:</em></strong> This property is only available on the Android platform. Ensure that you set the value of the <a href="#enableHighAccuracy">enableHighAccuracy</a> property to <strong>false</strong>.</p>
</blockquote>

<table>
  <tbody>
    <tr>
      <td>The possible values for accuracyMode are: <strong>constants.ACCURACY_HIGH</strong>: Used to request the most accurate locations available. <strong>constants.ACCURACY_NO_POWER</strong>: Used to request the best accuracy possible with no additional power consumption. <strong>constants.ACCURACY_BALANCED_POWER</strong>: Used to request “block” level accuracy. Block level accuracy is considered to be about 100 meter accuracy. Using a coarse accuracy such as this often consumes less power. <strong>constants.ACCURACY_LOW_POWER</strong>: Used to request “city” level accuracy. City level accuracy is considered to be about 10km accuracy. Using a coarse accuracy such as this often consumes less power. &gt; <strong><em>Important:</em></strong> Ensure that you enable the <strong>Use Google Play Location Services</strong> check box in the <strong>Project Settings</strong> &gt; <strong>Native</strong> &gt; <strong>Android Mobile/Tablet</strong> section.</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>enableHighAccuracy [Boolean]</td>
      <td>Provides a hint to the implementation in order to receive the best possible result.</td>
    </tr>
    <tr>
      <td> </td>
      <td>maximumAge [Number]</td>
      <td>Indicates the application to accept a cached position whose age is no greater than the specified time in milliseconds.</td>
    </tr>
    <tr>
      <td> </td>
      <td>minimumTime [Number]</td>
      <td>Indicates the desired interval for active location updates in milliseconds. &gt; <strong><em>Note:</em></strong> This property is only available on the Android platform.</td>
    </tr>
    <tr>
      <td> </td>
      <td>requestModifyLocationSettings [Boolean]</td>
      <td>When you set this parameter to true, if the app cannot fetch the device location due to inadequate location settings on the device, the system automatically invokes a dialog box that helps the user enable the necessary location settings with a single tap. However, if you invoke the API (with the requestModifyLocationSettings parameter set to true) when the app runs in the background, based on the Android OS version, the dialog box may not appear on a device. Based on the values of <a href="#enableHighAccuracy">enableHighAccuracy</a> or <a href="#accuracyMode">accuracyMode</a>, the Android system ensures that the required location settings(such as GPS, WIFI Scanning, Mobile Network/Data) are enabled on the device (based on the Android OS version and the device manufacturer). Based on Android Native behavior on Android 9 (API level 28) or later devices, GPS is automatically turned on (by the Android system) for all the accuracy modes except <strong>constants.ACCURACY_LOW_POWER</strong>. &gt; <strong><em>Important:</em></strong> Ensure that you enable the <strong>Use Google Play Location Services</strong> check box in the <strong>Project Settings</strong> &gt; <strong>Native</strong> &gt; <strong>Android Mobile/Tablet</strong> section. &gt; <strong><em>Note:</em></strong> This property is only available on the Android platform.</td>
    </tr>
    <tr>
      <td> </td>
      <td>requireBackgroundAccess [Boolean]</td>
      <td>Set to <code class="language-plaintext highlighter-rouge">true</code> to fetch the device location updates even when the app is running in the background. If the value is set to <code class="language-plaintext highlighter-rouge">false</code> (or not specified), to conserve battery power, the app automatically de-registers itself from fetching the device location when the app moves to the background. The app will automatically re-register itself to get location updates when the app moves to the foreground. In apps that use Target SDK version 29 (and later), you must add the ACCESS_BACKGROUND_LOCATION permission in the Android Manifest file to get location updates in the background. &gt; <strong><em>Note:</em></strong> This property is only available on the Android platform.</td>
    </tr>
    <tr>
      <td> </td>
      <td>timeout [Number]</td>
      <td>Denotes the maximum length of time in milliseconds that is allowed to pass from the call.</td>
    </tr>
    <tr>
      <td> </td>
      <td>useBestProvider</td>
      <td>Set to <code class="language-plaintext highlighter-rouge">true</code> to improve the reliability of calls to this function on Android devices. Omitting this option on Android could cause calls to this function to have intermittent timeouts.</td>
    </tr>
  </tbody>
</table>

<p> </p>

<p>Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">/\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
 \*	Name   : getCurrentPosition function
 \*	Author  : VoltMX
 \*	Purpose : This function helps to get the current location
 \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/
function getPosition() {
    var positionoptions = {
        timeout: 15000
    }; // 15 secs 
    voltmx.location.getCurrentPosition(successcallback, errorcallback, positionoptions);
}

// Callback that is executed on success of getCurrentPosition function.
function successcallback(position) {
    var geoPosition = "Latitude: " + position.coords.latitude;
    geoPosition = geoPosition + " Longitude: " + position.coords.longitude;
    geoPosition = geoPosition + " Altitude: " + position.coords.altitude;
    geoPosition = geoPosition + " Accuracy: " + position.coords.accuracy;
    geoPosition = geoPosition + " Altitude Accuracy: " + position.coords.altitudeAccuracy;
    geoPosition = geoPosition + " Heading: " + position.coords.heading;
    geoPosition = geoPosition + " Speeding: " + position.coords.speeding;
    geoPosition = geoPosition + " Timestamp: " + position.timestamp;
    alert(geoPosition);
}

// Callback that is executed on error of getCurrentPosition function.
function errorcallback(positionerror) {
    var errorMesg = "Error code: " + positionerror.code;
    errorMesg = errorMesg + " message: " + positionerror.message;
    alert(errorMesg);
}</code></pre>
</figure>

<p>MVC Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">currentPositionSuccessCallback: function(position) {
    /\* 
  //  position object will have the below properties .
         latitude = position.coords.latitude 
         longitude = position.coords.longitude
         altitude = position.coords.altitude
         atitudeAccuracy = position.coords.altitudeAccuracy
         heading = position.coords.heading
         speeding = position.coords.speeding
         timestamp = position.timestamp
    \*/
    alert(JSON.stringify(position));
    /\* use the position depending on the use case ,some of the use cases are listed below .    
	1. Get the nearby events(like ATMs, Restaurants …etc.)  based on the user current location
	2. In a tracking-based scenario ,use as an initial position of the user .
	\*/

},
currentPositionFailureCallback: function(error) {
    alert(JSON.stringify(error));
},
getCurrentPositionOfDevice: function() {
    var options = {};
    options.enableHighAccuracy = true; //  uses provider that gets accurate location
    options.timeout = 10000; // timeout in milliseconds  
    options.requireBackgroundAccess  = true; // gets the location updates in the background as well
    voltmx.location.getCurrentPosition(this.currentPositionSuccessCallback, this.currentPositionFailureCallback, options);
}

/\* Please see example of getCurrentPosition() in "frmTrackingUserLocation" Form of [sample app](http://docs.voltmx.com/voltmxlibrary/iris/zip/sampleapps/LocationApp.zip)\*/</code></pre>
</figure>

<p>Free form Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">function currentPositionSuccessCallback(position) {
  /\* 
	// position object will have the below properties .
   	latitute = position.coords.latitude
    longitude = position.coords.longitude
    altitude = position.coords.altitude
    atitudeAccuracy = position.coords.altitudeAccuracy
    heading = position.coords.heading
    speeding = position.coords.speeding
    timestamp = position.timestamp
	\*/
  alert(JSON.stringify(position));
  /\* use the position depending on the use case ,some of the use cases are listed below .    
	1. Get the nearby events(like ATMs, Restaurants …etc.)  based on the user current location
	2. In a tracking-based scenario ,use as an initial position of the user .
	\*/

}

function currentPositionFailureCallback(error) {
  alert(JSON.stringify(error));
}

function getCurrentPositionOfDevice () {
  var options = {};
  options.enableHighAccuracy = true; 
  options.timeout = 10000; // timeout in milli seconds      
  options.requireBackgroundAccess  = true; // gets the location updates in the background as well
  voltmx.location.getCurrentPosition(currentPositionSuccessCallback, currentPositionFailureCallback, options);
}</code></pre>
</figure>

<p>Return Values</p>

<p>None</p>

<p>Exceptions</p>

<p>LocationError</p>

<p>Error Code</p>

<table>
  <thead>
    <tr>
      <th>Error Code</th>
      <th>Error Message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>PERMISSION_DENIED</td>
    </tr>
    <tr>
      <td>2</td>
      <td>POSITION_UNAVAILABLE</td>
    </tr>
    <tr>
      <td>3</td>
      <td>TIMEOUT</td>
    </tr>
  </tbody>
</table>

<p> </p>

<p>Android-specific Error Codes</p>

<table>
  <thead>
    <tr>
      <th>Error Code</th>
      <th>Error Message</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>4</td>
      <td>Missing android.permission.ACCESS_BACKGROUND_LOCATION permission in AndroidManifest.xml</td>
      <td>The developer has missed adding the android.permission.ACCESS_BACKGROUND_LOCATION permission in the AndroidManifest.xml</td>
    </tr>
    <tr>
      <td>5</td>
      <td>BACKGROUND_PERMISSION_DENIED</td>
      <td>The end-user has selected ”Allow only while the app is in use” instead of “Allow all the time” option on devices that run on Android 9 (and later).</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Permission Denied for <PermissionName> with Don't Ask Again</PermissionName></td>
      <td>The user has denied permission with the Don’t ask again or Never ask again option.</td>
    </tr>
  </tbody>
</table>

<p>Remarks</p>

<p>This API takes up to three arguments. When invoked, the API returns and asynchronously attempts to obtain the current location of the device. The app on which this API is used must contain <a href="runtime_permissions.html">runtime permission</a> from the end-user to obtain the current location of the device. If the API is invoked without obtaining the permission, device native platforms automatically display a system permission dialog box with <strong>Allow</strong> and <strong>Deny</strong> options. The end-user can grant permission to get the current location.</p>

<p>In Android apps that use Target SDK version 29 (and later), and the <strong>requireBackgroundAccess</strong> property is enabled, you must manually add the <code class="language-plaintext highlighter-rouge">ACCESS_BACKGROUND_LOCATION</code> permission in the Android Manifest file to get location updates in the background.</p>

<p>If the end-user taps the <strong>Allow</strong> option, the attempt is successful, the successCallback is invoked (i.e. the handleEvent operation must be called on the callback object) with a new Position object, reflecting the current location of the device. If the attempt fails, the errorCallback is invoked with a new PositionError object, reflecting the reason for the failure. This is applicable only for Android and iOS platforms.</p>

<p>If the end-user taps the <strong>Deny</strong> option, the <strong>errorcallback</strong> is invoked with the <strong>PERMISSON_DENIED</strong> error code and error message.</p>

<blockquote>
  <p><strong><em>Note:</em></strong> Runtime permissions are applicable only on iOS and Android platforms</p>
</blockquote>

<p>Platform Availability</p>

<p>Available on all platforms except prior to IE8 releases.</p><hr />

<p><a href="javascript:void(0);"><img src="/volt-mx-docs/docs/documentation/Iris/iris_api_dev_guide/Skins/Default/Stylesheets/Images/transparent.gif" alt="Closed" /></a><a href="javascript:void(0);">voltmx.location.watchPosition</a></p><hr />

<p>Using the watchPosition function, you can set callbacks that report the device’s position.</p>

<p>Syntax</p>

<p>voltmx.location.watchPosition(<br />
    successcallback,<br />
    errorcallback,<br />
    positionoptions)</p>

<p>Parameters</p>

<p><strong>successcallback [Function] - Mandatory</strong></p>

<p>The successcallback function specifies the callback function that must be executed when the API call is successful. The signature of the callback function is successcallback(position) where, <strong>position</strong> contains the coordinates of the geo-location that are created and returned by the API. It is an object that contains certain key-value pairs.</p>

<blockquote>
  <p>coords [Object] - Coordinates that has the following key-value pairs:</p>

  <table>
    <thead>
      <tr>
        <th>key</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>latitude [Number]</td>
        <td>Latitude in decimal degrees.</td>
      </tr>
      <tr>
        <td>longitude [Number]</td>
        <td>Longitude in decimal degrees.</td>
      </tr>
      <tr>
        <td>altitude [Number]</td>
        <td>Height of the location in meters above the ellipsoid.</td>
      </tr>
      <tr>
        <td>accuracy [Number]</td>
        <td>Accuracy level of the latitude and longitude coordinates in meters.</td>
      </tr>
      <tr>
        <td>altitudeaccuracy [Number]</td>
        <td>Accuracy level of the altitude coordinate in meters.</td>
      </tr>
      <tr>
        <td>heading [Number]</td>
        <td>Direction of travel, specified in degrees counting clockwise relative to the true north.</td>
      </tr>
      <tr>
        <td>speeding [Number]</td>
        <td>Current ground speed of the device, specified in meters per second.</td>
      </tr>
      <tr>
        <td>timestamp [Number]</td>
        <td>Represents the time when the Position object was acquired.</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<p><strong>errorcallback [Function] - Optional</strong></p>

<p>The errorcallback function specifies the callback function that must be executed when the API call fails. The callback function has the following signature:</p>

<p>errorcallback(positionerror)- positionerror is an object that has the following key-value pairs:</p>

<table>
  <thead>
    <tr>
      <th>key</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>code [Number]</td>
      <td>error code.</td>
    </tr>
    <tr>
      <td>message [String]</td>
      <td>error message.</td>
    </tr>
  </tbody>
</table>

<p>For more information on the Error codes and messages, refer <a href="#Error_Code">error code</a>.</p>

<p><strong>positionoptions [Object] - Optional</strong></p>

<p>Using the positionoptions parameter, the user can customize the retrieval of the geolocation. It is an object that has the following key-value pairs:</p>

<p>| key | Description |
| — | — |
| accuracyMode [Number] | Specifies the accuracy and power requirements to be met while fetching location updates. The default value for accuracyMode is constants.ACCURACY_BALANCED_POWER.</p>
<blockquote>
  <p><strong><em>Note:</em></strong> This property is only available on the Android platform. Ensure that you set the value of the <a href="#enableHighAccuracy1">enableHighAccuracy</a> property to <strong>false</strong>.</p>
</blockquote>

<table>
  <tbody>
    <tr>
      <td>The possible values for accuracyMode are: <strong>constants.ACCURACY_HIGH</strong>: Used to request the most accurate locations available. <strong>constants.ACCURACY_NO_POWER</strong>: Used to request the best accuracy possible with no additional power consumption. <strong>constants.ACCURACY_BALANCED_POWER</strong>: Used to request “block” level accuracy. Block level accuracy is considered to be about 100 meter accuracy. Using a coarse accuracy such as this often consumes less power. <strong>constants.ACCURACY_LOW_POWER</strong>: Used to request “city” level accuracy. City level accuracy is considered to be about 10km accuracy. Using a coarse accuracy such as this often consumes less power. &gt; <strong><em>Important:</em></strong> Ensure that you enable the <strong>Use Google Play Location Services</strong> check box in the <strong>Project Settings</strong> &gt; <strong>Native</strong> &gt; <strong>Android Mobile/Tablet</strong> section.</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>enableHighAccuracy [Boolean]</td>
      <td>Provides a hint to the implementation in order to receive the best possible result.</td>
    </tr>
    <tr>
      <td> </td>
      <td>fastestInterval [Number]</td>
      <td>Sets the fastest interval for location updates in milliseconds. The fastestInterval key controls the rate at which your application will receive location updates, which might be faster than minimumTime in some cases.This happens when other apps fetch location updates and the current app receives them passively to save power. &gt; <strong><em>Note:</em></strong> This property is only available on the Android platform. The rate at which the app receives the fastest update will not be less than the value specified for the fastestInterval property. The value for the fastestInterval must be more than zero and less than the value of minimumTime (i.e, 0 &lt; fastestInterval &lt;= minimumTime). If you do not set the value for fastestInterval, the value of minimumTime is set, by default. &gt; <strong><em>Note:</em></strong> Ensure that you have enabled the <strong>Use Google Play Location Services</strong> checkbox in the <strong>Project Settings</strong> &gt; <strong>Native</strong> &gt; <strong>Android</strong> section of VoltMX Iris.</td>
    </tr>
    <tr>
      <td> </td>
      <td>improveBGLocationUpdateFrequency [Boolean]</td>
      <td>Set the property to <code class="language-plaintext highlighter-rouge">true</code> to receive location updates with a better frequency in the background. This approach specifically helps when the app goes into Doze mode when it is running in the background. However, there might be a decrease in fetching location updates when the app runs in the foreground with the value of the improveBGLocationUpdateFrequency parameter set to <strong>true</strong>. This is a behavioral issue that occurs as the underlying Android APIs for receiving better foreground and background updates are different. You must de-register from the existing location listener and register again with a value configured for the improveBGLocationUpdateFrequency parameter. Set the value of the parameter to <strong>true</strong> if your app runs in the background, and <strong>false</strong> if your app runs in the foreground. While determining if the app runs in the foreground or background, you must take the following factors into consideration: Determine whether the app is running in the foreground or background by using the <strong>onforeground</strong> and <strong>onbackground</strong> callbacks of the <a href="voltmx.application_functions.html#setappli">voltmx.application.setApplicationCallbacks</a> API. When you start a foreground service by using the <a href="voltmx.application_functions.html#StartForeground">voltmx.application.startForegroundService</a> API (or from a third-party library), the OS treats the application as if it runs in the foreground, even when the user moves the app to the background.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong><em>Note:</em></strong> This property is only available on the Android platform. Ensure that you enable the <strong>Use Google Play Location Services</strong> check box in the <strong>Project Settings</strong> &gt; <strong>Native</strong> &gt; <strong>Android Mobile/Tablet</strong> section.</p>
</blockquote>

<table>
  <tbody>
    <tr>
      <td>If your app follows the best practices recommended by Android, the app must not request for background location updates without notifying the user. Therefore, you must set the value of the requireBackgroundAccess parameter to <code class="language-plaintext highlighter-rouge">true</code> and display a notification to the user by using a foreground service (instead of using the improveBGLocationUpdateFrequency parameter). The notification must imply that the app fetches location updates even when it runs in the background. In Android apps that use Target SDK version 29 (and later), to get location updates in the background, you must set the value of the <code class="language-plaintext highlighter-rouge">locationListenerType</code> property to <code class="language-plaintext highlighter-rouge">always</code> or <code class="language-plaintext highlighter-rouge">background</code> in the <strong>androidbuild.properties</strong> file to automatically add necessary AndroidManifest entries.</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>maximumAge [Number]</td>
      <td>Indicates the application to accept a cached position whose age is no greater than the specified time in milliseconds.</td>
    </tr>
    <tr>
      <td> </td>
      <td>minimumDistance [Number]</td>
      <td>Minimum distance in meters between location updates.</td>
    </tr>
    <tr>
      <td> </td>
      <td>minimumTime [Number]</td>
      <td>Minimum time in milliseconds between location updates.</td>
    </tr>
    <tr>
      <td> </td>
      <td>requestModifyLocationSettings [Boolean]</td>
      <td>When you set this parameter to true, if the app cannot fetch location updates due to inadequate location settings on the device, the system automatically invokes a dialog box that helps the user enable the necessary location settings with a single tap. However, if you invoke the API (with the requestModifyLocationSettings parameter set to true) when the app runs in the background, based on the Android OS version, the dialog box may not appear on a device. Based on the values of <a href="#enableHighAccuracy">enableHighAccuracy</a> or <a href="#accuracyMode">accuracyMode</a>, the Android system ensures that the required location settings(such as GPS, WIFI Scanning, Mobile Network/Data) are enabled on the device (based on the Android OS version and the device manufacturer). Based on Android Native behavior on Android 9 (API level 28) or later devices, GPS is automatically turned on (by the Android system) for all the accuracy modes except <strong>constants.ACCURACY_LOW_POWER</strong>. &gt; <strong><em>Important:</em></strong> Ensure that you enable the <strong>Use Google Play Location Services</strong> check box in the <strong>Project Settings</strong> &gt; <strong>Native</strong> &gt; <strong>Android Mobile/Tablet</strong> section. &gt; <strong><em>Note:</em></strong> This property is only available on the Android platform.</td>
    </tr>
    <tr>
      <td> </td>
      <td>requireBackgroundAccess [Boolean]</td>
      <td>Set to <code class="language-plaintext highlighter-rouge">true</code> to fetch the device location updates even when the app is running in the background. If the value is set to <code class="language-plaintext highlighter-rouge">false</code> (or not specified), to conserve battery power, the app automatically de-registers itself from fetching location updates when the app moves to the background. The app will automatically re-register itself to get location updates when the app moves to the foreground. In order to continue receiving location updates (when a user moves the app to the background), invoke the <a href="voltmx.application_functions.html#StartForeground">voltmx.application.startForegroundService</a> API to start a Foreground Service that displays a notification to the user. The notification must contain information that states that the app has access to the device location while it runs in the background. When you start a foreground service by using the <a href="voltmx.application_functions.html#StartForeground">voltmx.application.startForegroundService</a> API (or from a third-party library), the application is treated as if it runs in the foreground, even when the user moves the app to the background. The app will continue to receive periodic location updates with the same frequency as that of an app running in the foreground. When a user interacts with the app, you can use the <a href="voltmx.application_functions.html#stopForeground">voltmx.application.stopForegroundService</a> API to stop the foreground service and clear the notification. Determine whether the app is running in the foreground or background by using the <strong>onforeground</strong> and <strong>onbackground</strong> callbacks of the <a href="voltmx.application_functions.html#setappli">voltmx.application.setApplicationCallbacks</a> API. In apps that use Target SDK version 29 (and later), you must add the ACCESS_BACKGROUND_LOCATION permission in the Android Manifest file to get location updates in the background. &gt; <strong><em>Note:</em></strong> This property is only available on the Android platform.</td>
    </tr>
    <tr>
      <td> </td>
      <td>timeout [Number]</td>
      <td>Denotes the maximum length of time in milliseconds that is allowed to pass from the call.</td>
    </tr>
  </tbody>
</table>

<p> </p>

<p>Return Values</p>

<table>
  <thead>
    <tr>
      <th>Return Value</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>watchID [Number]</td>
      <td>Returns a number that denotes the unique ID of the watch operation.</td>
    </tr>
  </tbody>
</table>

<p> </p>

<p>Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">function successcallback1(position) {
    lblTest.text = "working with watchPosition success full call back";
    var geoPosition = "Latitude: " + position.coords.latitude;
    geoPosition = geoPosition + " Longitude: " + position.coords.longitude;
    geoPosition = geoPosition + " Altitude: " + position.coords.altitude;
    geoPosition = geoPosition + " Accuracy: " + position.coords.accuracy;
    geoPosition = geoPosition + " Altitude Accuracy: " + position.coords.altitudeAccuracy;
    geoPosition = geoPosition + " Heading: " + position.coords.heading;
    geoPosition = geoPosition + " Speeding: " + position.coords.speeding;
    geoPosition = geoPosition + " Timestamp: " + position.timestamp;
    alert(geoPosition);
}

function errorcallback1(positionerror) {
    lblTest.text = "working with watchPosition err call back";
    var errorMesg = "Error code: " + positionerror.code;
    errorMesg = errorMesg + " message: " + positionerror.message;
    alert(errorMesg);
}
var positionoptions = {
    maximumAge: 3000,
    minimumDistance: 5,
    minimumTime: 5000
};
watchID = voltmx.location.watchPosition(successcallback1, errorcallback1, positionoptions);</code></pre>
</figure>

<p>MVC Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">watchID: null,
  watchPositionSuccessCallback: function(position) {
    /\* 
    // position object will have the below properties .
      	latitute = position.coords.latitude
       longitude = position.coords.longitude
       altitude = position.coords.altitude
       atitudeAccuracy = position.coords.altitudeAccuracy
       heading = position.coords.heading
       speeding = position.coords.speeding
       timestamp = position.timestamp
     \*/
    alert(JSON.stringify(position));
  },
  watchPositionFailureCallback: function(error) {
    alert(JSON.stringify(error));
  },
  watchPositionOfDevice: function() {
    var self = this;
    var options = {};
    options.maximumAge = 1000;
    options.minimumTime = 2000; // time in milli seconds
    options.minimumDistance = 2; // distance in meters   
    options.requireBackgroundAccess  = true; // gets the location updates in the background as well
    this.watchID = voltmx.location.watchPosition(this.watchPositionSuccessCallback,this.watchPositionFailureCallback, options);
    /\* Use-Cases:
	In tracking-based scenarios, the watchPosition() API can be used to 
    monitor a position
	\*/
	
	/\*Please see example of watchPosition() in "frmTrackingUserLocation" Form of [sample app](http://docs.voltmx.com/voltmxlibrary/iris/zip/sampleapps/LocationApp.zip)\*/
  }
  </code></pre>
</figure>

<p>Free Form Example</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">watchID = null;

function watchPositionSuccessCallback(position) {
    /\* 
        // position object will have the below properties .
       latitute = position.coords.latitude
       longitude = position.coords.longitude
       altitude = position.coords.altitude
       atitudeAccuracy = position.coords.altitudeAccuracy
       heading = position.coords.heading
       speeding = position.coords.speeding
       timestamp = position.timestamp
       \*/

    alert(JSON.stringify(position));
}

function watchPositionFailureCallback(error) {
    alert(JSON.stringify(error));
}

function watchPositionOfDevice() {
    var self = this;
    var options = {};
    options.maximumAge = 1000; // use cached position if exists in mentioned time(in milliseconds)
    options.minimumTime = 2000; // time criteria for location updates
    options.minimumDistance = 2; // distance criteria for location updates   
    options.requireBackgroundAccess  = true; // gets the location updates in the background as well
    watchID = voltmx.location.watchPosition(watchPositionSuccessCallback, watchPositionFailureCallback, options);
}</code></pre>
</figure>

<p>Exceptions</p>

<p>LocationError</p>

<p>Error Code</p>

<table>
  <thead>
    <tr>
      <th>Error Code</th>
      <th>Error Message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>PERMISSION_DENIED</td>
    </tr>
    <tr>
      <td>2</td>
      <td>POSITION_UNAVAILABLE</td>
    </tr>
    <tr>
      <td>3</td>
      <td>TIMEOUT</td>
    </tr>
  </tbody>
</table>

<p> </p>

<p>Android-specific Error Codes</p>

<table>
  <thead>
    <tr>
      <th>Error Code</th>
      <th>Error Message</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>4</td>
      <td>Missing android.permission.ACCESS_BACKGROUND_LOCATION permission in AndroidManifest.xml</td>
      <td>The developer has missed adding the android.permission.ACCESS_BACKGROUND_LOCATION permission in the AndroidManifest.xml</td>
    </tr>
    <tr>
      <td>5</td>
      <td>BACKGROUND_PERMISSION_DENIED</td>
      <td>The end-user has selected ”Allow only while the app is in use” instead of “Allow all the time” option on devices that run on Android 9 (and later).</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Permission Denied for <PermissionName> with Don't Ask Again</PermissionName></td>
      <td>The user has denied permission with the Don’t ask again or Never ask again option.</td>
    </tr>
  </tbody>
</table>

<p>Remarks</p>

<p>The behavior of this function depends on the underlying hardware platform. For example, if your app is running on Android and you set minimumTime and minimumDistance to their minimum possible values, the callback function in the <em>successcallback</em> parameter will not be called, as per the <a href="https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest#setInterval(long)">Android documentation</a>.</p>

<p>This API takes one, two, or three arguments. When invoked, it must immediately return a number that uniquely identifies a watch operation and then asynchronously start the watch operation. This operation first attempts to obtain the current location of the device. Your app needs <a href="runtime_permissions.html">runtime permission</a> from the end-user to obtain the current location of the device. If you call the API without obtaining the permission, platforms automatically pops up a system permission dialog box with <strong>Allow</strong> and <strong>Deny</strong> options, asking the end-user to grant permission to get the current location.</p>

<p>In Android apps that use Target SDK version 29 (and later), and the <strong>requireBackgroundAccess</strong> property is enabled, you must manually add the <code class="language-plaintext highlighter-rouge">ACCESS_BACKGROUND_LOCATION</code> permission in the Android Manifest file to get location updates in the background.</p>

<p>If the end-user taps the <strong>Allow</strong> option, the attempt is successful, the succesCallback is invoked (i.e. the handleEvent operation must be called on the callback object) with a new Position object, reflecting the current location of the device. If the attempt fails, the errorCallback is invoked with a new PositionError object, reflecting the reason for the failure.</p>

<p>If the end-user taps the <strong>Deny</strong> option, the errorcallback in invoked with the <strong>PERMISSON_DENIED</strong> error code and error message.</p>

<blockquote>
  <p><strong><em>Note:</em></strong> The runtime permissions are applicable only in the iOS and Android platforms.</p>
</blockquote>

<p>The watch operation continues to monitor the position of the device and invokes the appropriate callback every time this position changes. The watch operation continues until the clearwatch method is called with the corresponding identifier.</p>

<p>Platform Availability</p>

<p>Available on all platforms except Desktop Web, IE8 and prior to IE8 releases.</p><hr />

<p><img src="resources/prettify/onload.png" alt="" /></p>

          
  
          
  
          
          
           
              <!--<p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 HCL Digital Solutions</p>-->

  
              
                <div class="d-flex mt-2">
                  
                  
                </div>
              
            </footer>
          
  
        </div>
      </div>
  
      
        
  
        <div class="search-overlay"></div>
      
  
      
    </div>
  
    
    <div class="right-menu scrollable-container" >
      <div class="scrollable">
        
<nav role="navigation" aria-label="Main" id="sub-site-nav" class="site-nav" >
<ul class="nav-list">
  
</ul>

</nav>

    <script>
     const subpageNav = document.getElementById('sub-site-nav');
     const submainmenuButton = document.getElementById('sub-menu-button');
    
   (function(){
    submainmenuButton.addEventListener('click', function(){ 
      document.getElementById('site-nav').classList.remove('nav-open');
      subpageNav.classList.toggle('nav-open');
 });
})();
</script>

      </div>
  </div></div>


 <!-- footer from footer html -->
 <footer>

    <!-- The Modal -->
<div id="copyright-modal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <p>
        Copyright © 2021 HCL - August, 2020 - All rights reserved.
      </p>
      <p>This document contains information proprietary to HCL., is bound by the HCL license agreements, and may not be used except in the context of understanding the use and methods of HCL., software without prior, express, written permission. HCL, Empowering Everywhere, HCL Foundry, HCL Flare, and HCL Iris are trademarks of HCL. MobileFoundry is a registered trademark of HCL. Microsoft, the Microsoft logo, Internet Explorer, Windows, and Windows Vista are registered trademarks of Microsoft Corporation. Apple, the Apple logo, iTunes, iPhone, iPad, OS X, Objective-C, Safari, Apple Pay, Apple Watch, and Xcode are trademarks or registered trademarks of Apple, Inc. Google, the Google logo, Android, and the Android logo are registered trademarks of Google, Inc. Chrome is a trademark of Google, Inc. BlackBerry, PlayBook, Research in Motion, and RIM are registered trademarks of BlackBerry. SAP® and SAP® Business Suite® are registered trademarks of SAP SE in Germany and in several other countries. All other terms, trademarks, or service marks mentioned in this document have been capitalized and are to be considered the property of their respective owners.</p>
    </div>
  
  </div>
    <div class="foot-wrap">
        <div class="foot-nav">
            &copy; <a href="#" id="copyrightBtn">Copyright</a> 2021 HCL Technologies Limited. 
            <a href="https://hcltechsw.com/wps/portal/legal/privacy" style="margin-left: 10px;">Privacy Statement</a> | <a href="#">Terms of Use</a>
        </div>
        <ul class="social-nav">
            <li><a href="#" class="facebook">Facebook</a></li>
            <li><a href="#" class="linkedin">LinkedIn</a></li>
            <li><a href="#" class="twitter">Twitter</a></li>
            <li><a href="#" class="youtube">Youtube</a></li>
            <li><a href="#" class="glassdoor">Glassdoor</a></li>
        </ul>
    </div>

    
</footer>
<script>
    var modal = document.getElementById("copyright-modal");

// Get the button that opens the modal
var btn = document.getElementById("copyrightBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on the button, open the modal
btn.onclick = function(e) {
    e.preventDefault();
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
  document.querySelector("span.close").onclick = function() {
  modal.style.display = "none";
}
document.onkeydown = function(evt) {
    evt = evt || window.event;
    if (evt.keyCode == 27) {
      modal.style.display = "none";
    }
};
// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}


</script>
</body>
</html>
