<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  

  <link rel="shortcut icon" href="/volt-mx-docs/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/volt-mx-docs/assets/css/just-the-docs-default.css">
  <link rel="stylesheet" href="/volt-mx-docs/assets/css/custom.css">
  

  
    <script type="text/javascript" src="/volt-mx-docs/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/volt-mx-docs/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>VoltMx | Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="VoltMx" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<meta property="og:description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<link rel="canonical" href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Hardening_Guide.html" />
<meta property="og:url" content="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Hardening_Guide.html" />
<meta property="og:site_name" content="VoltMx" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="VoltMx" />
<script type="application/ld+json">
{"url":"https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Hardening_Guide.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://hcl-tech-software.github.io/volt-mx-docs/Volt_Mx_logo.png"}},"headline":"VoltMx","description":"Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-search" viewBox="0 0 24 24">
    <title>Search</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
      <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
  </symbol>
</svg>

<div class="header-wrap">
  
  <div class="top-header">
    <div class="site-header">
      <a href="https://hcl-tech-software.github.io/volt-mx-docs/" class="site-title lh-tight">
  <div class="site-logo"></div>

</a>
      <a href="#" id="mainmenu-button"  class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
  </div>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div id="main-header" class="main-header">
  
   
   <!-- <div class="search-prepare" id="search-prepare">
    <p><img src=" /volt-mx-docs/assets/images/preload.gif" style="height: 24px; width: 24px; margin-right: 5px;" /> Preparing your search results...</p>
  </div>  -->
     <div class="search">
    
       <div class="search-input-wrap">
         <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="search resources..." aria-label="Search VoltMx" autocomplete="off">
         <label for="search-input" class="search-label" id="searchButton"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
                 </div>
                        
       <div id="search-results" class="search-results"></div>

       
     </div>
   
   <ul class="page-nav" id="page-nav">
    <li><a href="#">Community</a></li>
    <li><a href="#" class="active">Learn</a></li>
    <li><a href="#">Releases</a></li>
    <li><a href="#">Training</a></li>
    <li><a href="#">Ideas</a></li>
    <li><a href="#">Marketplace</a></li>
    <li><a href="#">Login</a></li>
  </ul>
  

  
 </div>
 <script>
   const pageNav = document.getElementById('page-nav');
    const mainHeader = document.getElementById('main-header');
    const mainmenuButton = document.getElementById('mainmenu-button');
  (function(){
   
   mainmenuButton.addEventListener('click', function(){
     pageNav.classList.toggle('nav-open');
});
})();

</script>
  <div class="sub-nav-wrap" id="myDIV">
    <ul class="sub-nav" >
        <li >
            <a href="/volt-mx-docs/docs/getting-started/"  class="sub-link">Getting Started</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/tutorials/" class="sub-link">Tutorials</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/documentation/" class="sub-link">Documentation</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/articles/" title="test" class="sub-link">Articles</a>
        </li>
    </ul>
    <a href="#" id="menu-button" class="site-button">
        <!-- <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> -->
        select a topic <svg viewBox="0 0 24 24" class="carat-topic"><use xlink:href="#svg-arrow-right"></use></svg>
      </a>
</div>
</div> 

<style>
  .sub-nav a[href*="/documentation/"] {
   border-bottom: 3px #d694f9 solid;
}
</style>

<div class="content-wrap">
  <div class="side-bar scrollable-container">
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav scrollable">
      <ul class="nav-list"><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_rel_notes/Content/Common/copyright.html" class="nav-list-link">copyright</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmx_foundry_release_notes/Content/Common/copyrightOld.html" class="nav-list-link">copyrightOld</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_rel_notes/Content/Common/glossary.html" class="nav-list-link">Glossary</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_rel_notes/Content/Common/home.html" class="nav-list-link">home</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmx_appfactory_user_guide/Content/Known_Issues.html" class="nav-list-link">Known Issues in HCL App Factory</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/FAQs.html" class="nav-list-link">This topic describes how to control access to VoltMX Foundry applications and services. This topic is part of the VoltMX Foundry Console User Guide.</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_starter_install_mac/Content/Getting%20Started.html" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/fundamentals.html" class="nav-list-link">Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/projectorg.html" class="nav-list-link">Project Organization</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appUserInterface.html" class="nav-list-link">App User Interface</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/widgetApiReference.html" class="nav-list-link">Widgets & API Reference</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/webAppDevelopment.html" class="nav-list-link">Web App Development</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataBackEndIntergration.html" class="nav-list-link">Data & Back-end Integration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/buildAndPublish.html" class="nav-list-link">Build and Publish</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/extensibility.html" class="nav-list-link">Extensibility</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/security.html" class="nav-list-link">Security</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/howTosSampleApps.html" class="nav-list-link">How Tos & Sample Apps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataIntegrationServices.html" class="nav-list-link">Data Integration Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/offlineObjects.html" class="nav-list-link">Offline Objects</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/apiMangement.html" class="nav-list-link">API Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appServicesAdminitration.html" class="nav-list-link">App Services Administration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/advancedServerFeature.html" class="nav-list-link">Advanced Server Features</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/analyticsAndApm.html" class="nav-list-link">Analytics and APM</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/engagementServices.html" class="nav-list-link">Engagement Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/quantumSync.html" class="nav-list-link">VoltMX Sync (Legacy)</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/devOps.html" class="nav-list-link">DevOps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/heradlessAndContinuousIntegration.html" class="nav-list-link">Headless and Continuous Integration Build</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/installationManagement.html" class="nav-list-link">Installation & Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/deployment.html" class="nav-list-link">Deployment</a></li></ul>
    </nav>
  
  </div>
  
    <div class="main scrollable-container" id="top">
      
      <div id="main-content-wrap" class="main-content-wrap scrollable">
        
          
        
        <div id="main-content" class="main-content" role="main">
          
            <p>VoltMX Foundry Deployment Guide: VoltMX Foundry Components Covered</p>
      <h1 id="security-hardening">
        
        
          <a href="#security-hardening" class="anchor-heading" aria-labelledby="security-hardening"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Security Hardening
        
        
      </h1>
    

<p>Security Hardening section provides prescriptive guidance to customers on how to deploy and operate VoltMX Foundry in a secure manner. This document provides recommendations for improving the security (“hardening”) of your VoltMX Foundry installation and to make sure VoltMX Foundry is running securely.</p>
      <h2 id="voltmx-foundry-components-covered">
        
        
          <a href="#voltmx-foundry-components-covered" class="anchor-heading" aria-labelledby="voltmx-foundry-components-covered"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> VoltMX Foundry Components Covered
        
        
      </h2>
    

<p>This section details hardening supported for the following VoltMX Foundry components.</p>

<ul>
  <li>Installer</li>
  <li>Identity</li>
  <li>Integration</li>
  <li>Sync</li>
  <li>Console</li>
</ul>
      <h2 id="secure-server-checklist">
        
        
          <a href="#secure-server-checklist" class="anchor-heading" aria-labelledby="secure-server-checklist"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Secure Server Checklist
        
        
      </h2>
    
      <h3 id="enable-ssltls">
        
        
          <a href="#enable-ssltls" class="anchor-heading" aria-labelledby="enable-ssltls"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Enable SSL/TLS
        
        
      </h3>
    

<p>Serving web requests over HTTPS is essential to protect data between the client and the application server.<br />
To make your web application accessible through HTTPS, you must implement SSL certificate.</p>

<p>While installing VoltMX Foundry, ensure that you select HTTPS as a communication protocol and provide valid CA certificates.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/HTTPS.png" alt="" /></p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/SSL.png" alt="" /></p>
      <h3 id="disable-weak-ciphers">
        
        
          <a href="#disable-weak-ciphers" class="anchor-heading" aria-labelledby="disable-weak-ciphers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Disable Weak Ciphers
        
        
      </h3>
    

<p>To achieve greater security, you can configure the server not to use weak ciphers when they communicate using the SSL/TLS protocol. You have to primarily take care of the following three things:</p>

<ul>
  <li>Disable SSL 2.0 (FUBAR) and SSL 3.01 (POODLE),</li>
  <li>Disable TLS 1.0 compression (CRIME),</li>
  <li>Disable weak ciphers (DES/3DES, RC4), prefer modern ciphers (AES), modes (GCM), and protocols (TLS 1.2).</li>
</ul>

<p>Make use of <a href="https://www.ssllabs.com/ssltest/">Qualys SSL Server Test</a> to analyze the server SSL configurations.</p>
      <h4 id="how-to-disable-weak-ciphers-in-tomcat">
        
        
          <a href="#how-to-disable-weak-ciphers-in-tomcat" class="anchor-heading" aria-labelledby="how-to-disable-weak-ciphers-in-tomcat"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How to Disable Weak Ciphers in Tomcat
        
        
      </h4>
    

<p>To disable weak ciphers, modify the SSL Connector container attribute inside the <code class="language-plaintext highlighter-rouge">server.xml</code> with the required https connector tag details. The <code class="language-plaintext highlighter-rouge">server.xml</code> is located in the <code class="language-plaintext highlighter-rouge">&lt;Install_Drive&gt;\tomcat\conf</code> folder.</p>

<p>Add the following is a sample details to SSL connector tag:</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">SSLEnabled="true" sslEnabledProtocols="TLSv1.2" ciphers="TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256, TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA,TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384, TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA,TLS\_ECDHE\_RSA\_WITH\_RC4\_128\_SHA, TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256,TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA,TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256, TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA,SSL\_RSA\_WITH\_RC4\_128\_SHA"</code></pre>
</figure>

<p>For example, the following is a sample modified https connector tag:</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">&lt;connector port="443" maxhttpheadersize="8192" address="127.0.0.1" enablelookups="false" disableuploadtimeout="true" acceptCount="100" scheme="https" secure="true" clientAuth="false" SSLEnabled="true" sslEnabledProtocols="TLSv1.2" ciphers="TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256, TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA,TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384, TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA,TLS\_ECDHE\_RSA\_WITH\_RC4\_128\_SHA, TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256,TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA,TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256, TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA,SSL\_RSA\_WITH\_RC4\_128\_SHA" keystoreFile="mydomain.key" keystorePass="password" truststoreFile="mytruststore.truststore" truststorePass="password"/&gt;;</code></pre>
</figure>

<blockquote>
  <p><strong><em>Note:</em></strong> Upgrade the SSL Cipher list to the latest available versions.</p>
</blockquote>
      <h4 id="how-to-disable-weak-ciphers-in-jboss">
        
        
          <a href="#how-to-disable-weak-ciphers-in-jboss" class="anchor-heading" aria-labelledby="how-to-disable-weak-ciphers-in-jboss"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How to Disable Weak Ciphers in JBoss
        
        
      </h4>
    

<p>To disable weak ciphers, replace the <code class="language-plaintext highlighter-rouge">https-listener</code> under JBoss <code class="language-plaintext highlighter-rouge">subsystem/undertow</code>, for example, <code class="language-plaintext highlighter-rouge">&lt;subsystem xmlns="urn:jboss:domain:undertow:3.1"&gt;</code></p>

<p>For example, the following is a sample for https connector tag:</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">&lt;https-listener name="https" socket-binding="connect" security-realm="ApplicationRealm" verify-client="REQUIRED"/&gt;</code></pre>
</figure>

<p>For example, the following is a sample modified https connector tag:</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">&lt;https-listener name="https" enabled-protocols="TLSv1,TLSv1.1,TLSv1.2" enabled-cipher-suites="SSL\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA,SSL\_DHE\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA, TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA,TLS\_DHE\_DSS\_WITH\_AES\_128\_CBC\_SHA, TLS\_DHE\_RSA\_WITH\_AES\_128\_CBC\_SHA,TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA, TLS\_DHE\_DSS\_WITH\_AES\_256\_CBC\_SHA,TLS\_DHE\_RSA\_WITH\_AES\_256\_CBC\_SHA, TLS\_ECDH\_ECDSA\_WITH\_3DES\_EDE\_CBC\_SHA,TLS\_ECDH\_ECDSA\_WITH\_AES\_128\_CBC\_SHA, TLS\_ECDH\_ECDSA\_WITH\_AES\_256\_CBC\_SHA,TLS\_ECDHE\_ECDSA\_WITH\_3DES\_EDE\_CBC\_SHA, TLS\_ECDHE\_ECDSA\_WITH\_AES\_128\_CBC\_SHA,TLS\_ECDHE\_ECDSA\_WITH\_AES\_256\_CBC\_SHA, TLS\_ECDH\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA,TLS\_ECDH\_RSA\_WITH\_AES\_128\_CBC\_SHA, TLS\_ECDH\_RSA\_WITH\_AES\_256\_CBC\_SHA,TLS\_ECDHE\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA, TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA,TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA, TLS\_ECDH\_anon\_WITH\_3DES\_EDE\_CBC\_SHA,TLS\_ECDH\_anon\_WITH\_AES\_128\_CBC\_SHA, TLS\_ECDH\_anon\_WITH\_AES\_256\_CBC\_SHA" verify-client="REQUIRED" security-realm="ApplicationRealm" socket-binding="connect"/&gt;</code></pre>
</figure>

<blockquote>
  <p><strong><em>Note:</em></strong> Upgrade the SSL Cipher list to the latest available versions.</p>
</blockquote>
      <h2 id="use-a-hardened-database-for-voltmx-foundry">
        
        
          <a href="#use-a-hardened-database-for-voltmx-foundry" class="anchor-heading" aria-labelledby="use-a-hardened-database-for-voltmx-foundry"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Use a Hardened database for VoltMX Foundry
        
        
      </h2>
    

<p>Your database is the jackpot that every attacker aims to capture. As attacks get more sophisticated and networks get more hostile, it has become more important than ever to take the following additional steps to harden your database.</p>

<ul>
  <li><strong>Set Strong Passwords</strong> (Password must contain at least 8 characters, at most 20 characters, and must include at least one uppercase letter, one lowercase letter, one digit, and one special character)</li>
  <li><strong>Remove Anonymous Users</strong></li>
  <li><strong>Follow the Principle of Least Privilege</strong></li>
  <li><strong>Enable TLS</strong> (The Installer does not support databases running TLS, so you must enable it post-installation)</li>
</ul>
      <h2 id="users-and-account-roles">
        
        
          <a href="#users-and-account-roles" class="anchor-heading" aria-labelledby="users-and-account-roles"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Users and Account roles
        
        
      </h2>
    

<p>VoltMX Foundry provides a mechanism to create a store of users in VoltMX Foundry Console (locally) or import from Active Directory.</p>

<p>Users listed in the User Management can access VoltMX Foundry Console to create apps.</p>

<p>There are a total of four account roles in VoltMX Foundry:</p>

<ul>
  <li>
    <p><strong>Owner</strong>: An owner has the most privileges and can do the following:</p>

    <ul>
      <li>Add, modify, and delete an environment.</li>
      <li>Add, modify, and delete other owners, admins, and members.</li>
    </ul>
  </li>
  <li>
    <p><strong>Admin</strong>: An admin has fewer privileges than an owner and can do the following:</p>

    <ul>
      <li>Add other admins and members.</li>
      <li>Modify and delete other admins and members.</li>
      <li>Grant and deny environment access to other admins and members.</li>
    </ul>
  </li>
  <li>
    <p><strong>Member</strong>: A member has the fewest privileges, which includes creating, editing or deleting new VoltMX Foundry applications or services. A member does not have permissions to invite a new user to the cloud or change the environment access of other members.</p>
  </li>
  <li>
    <p><strong>Developer Portal Only</strong>: This provides access to specific Developer Portals only and does not provide access to the VoltMX Foundry Console.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/User_Settings.png" alt="" /></p>
  </li>
</ul>
      <h2 id="default-services-and-apps-permissions">
        
        
          <a href="#default-services-and-apps-permissions" class="anchor-heading" aria-labelledby="default-services-and-apps-permissions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default Services and Apps Permissions
        
        
      </h2>
    

<p>You can configure access control for VoltMX Foundry applications and services. By default, all the users have full access rights to create and access apps and services.<br />
Use the <strong>Apps Console Access Control</strong> page to control access to an application. Use the <strong>Services Console Access Control</strong> page to control access to a service.<br />
Change the default access permissions for a new service or application according to the company’s access policy. This setting can be found in: <strong>Settings -&gt; Default Services &amp; Apps Permissions</strong>.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/Default_633x168.png" alt="" /></p>
      <h2 id="operation-security-level-for-integration-and-orchestration-services">
        
        
          <a href="#operation-security-level-for-integration-and-orchestration-services" class="anchor-heading" aria-labelledby="operation-security-level-for-integration-and-orchestration-services"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Operation Security Level for Integration and Orchestration services
        
        
      </h2>
    

<p>Select one of the following security operations in the Operation Security Level field for integration and orchestration services. By default, the field is set to Authenticated App User:</p>

<ul>
  <li><strong>Authenticated App User</strong> – indicates that the operation is secured. To use the operation, an app user must be authenticated by an associated identity service.</li>
  <li><strong>Anonymous App User</strong> – indicates that a user must have the app key and app secret to access this operation.</li>
  <li><strong>Public</strong> – indicates that the operation requires no special security.</li>
</ul>

<p>For Integration Services:</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/For_Integration_Services_627x182.png" alt="" /></p>

<p>For Orchestration Services:</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/For_Orchestration_Services_623x149.png" alt="" /></p>
      <h2 id="verb-security-level-for-object-services">
        
        
          <a href="#verb-security-level-for-object-services" class="anchor-heading" aria-labelledby="verb-security-level-for-object-services"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Verb Security Level for Object Services
        
        
      </h2>
    

<p>The Verb Security Level specifies how the client must authenticate to the verb. You can restrict access to this verb to only authenticated app users who have successfully been authenticated using an Identity service. An anonymous app user verb allows access from a trusted client that has the required App Key and App Secret, but the client does not need to authenticate the user through an identity service.<br />
Set the security level to <strong>Public</strong> to allow any client to access this verb without any authentication requirement. <strong>Authenticated App User</strong> – indicates that the operation is secured. To use the operation, an app user must be authenticated by an associated identity service.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/Verb_Security_619x171.png" alt="" /></p>
      <h2 id="pre-requisites">
        
        
          <a href="#pre-requisites" class="anchor-heading" aria-labelledby="pre-requisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pre-requisites
        
        
      </h2>
    

<p>Ensure that you read the <a href="https:///volt-mx-docs/docs/documentation/Foundry/voltmx_foundry_windows_install_guide/Content/Prerequisites.html">Pre-requisites</a> which contains information on Multi-node load balancer setup and other configurations.</p>
      <h3 id="securing-data-transport-between-the-device-and-voltmx-server">
        
        
          <a href="#securing-data-transport-between-the-device-and-voltmx-server" class="anchor-heading" aria-labelledby="securing-data-transport-between-the-device-and-voltmx-server"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Securing Data Transport between the Device and VoltMX Server
        
        
      </h3>
    

<p>VoltMX uses the traditional 128/256 bit SSL protocol between the device and the VoltMX Server for all the data communication. The mobile device has the native SDKs supporting the HTTPS connection from the mobile device and no additional API or infrastructure investment is required.</p>
      <h2 id="backend-credentials-and-session-security">
        
        
          <a href="#backend-credentials-and-session-security" class="anchor-heading" aria-labelledby="backend-credentials-and-session-security"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Backend Credentials and Session Security
        
        
      </h2>
    

<p>VoltMX Foundry uses AES-256 algorithm to encrypt backend credentials. The admin does not need to do anything for protecting the backend credentials.</p>

<p>The backend cookies/tokens are stored after being encrypted using the tenant’s data encryption key (AES encryption). Backend tokens are deleted when the session expires, or when the user logs out.</p>

<p>The following are the two types of sessions:</p>

<ul>
  <li><strong>Fixed duration</strong> sessions expire when the duration elapses after login.</li>
  <li><strong>Auto-extending</strong> sessions are defined using an inactivity timeout and max active duration. They expire if there is no activity during an inactivity timeout duration or if the max active duration elapses after login.</li>
</ul>

<p>If the backend supports refresh, the backend tokens can be refreshed by calling the refresh API from SDK.</p>
      <h2 id="user-credential-security">
        
        
          <a href="#user-credential-security" class="anchor-heading" aria-labelledby="user-credential-security"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> User Credential Security
        
        
      </h2>
    

<p>VoltMX Foundry currently encrypts the user credentials with PBKDF2 with 1000 iterations. The password is salted is 24 random bytes generated using java.security.SecureRandom.</p>

<p>As per NIST, it is recommended to use at least 10,000 iterations. If the user wants PBKDF2, iterations to be increased, he can achieve that by setting a property called ‘PBKDF2_ITERATIONS’. but this might AFFECT THE PERFORMANCE. Below are the performance statistics for 1k iterations and 10k iterations.</p>

<table style="mc-table-style: url('Resources/TableStyles/Basic.css');width: 525px;" class="TableStyle-Basic" cellspacing="0"><colgroup><col style="width: 191px;" class="TableStyle-Basic-Column-Column1" /> <col style="width: 162px;" class="TableStyle-Basic-Column-Column1" /> <col class="TableStyle-Basic-Column-Column1" /></colgroup><tbody><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">No of calculations (loops)</td><td class="TableStyle-Basic-BodyE-Column1-Body1" style="text-align: center;">1K Iterations (in ms)</td><td class="TableStyle-Basic-BodyD-Column1-Body1" style="text-align: center;">10K Iterations(in ms)</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyE-Column1-Body1">1000</td><td class="TableStyle-Basic-BodyE-Column1-Body1">3278</td><td class="TableStyle-Basic-BodyD-Column1-Body1">28159</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyE-Column1-Body1">2000</td><td class="TableStyle-Basic-BodyE-Column1-Body1">5780</td><td class="TableStyle-Basic-BodyD-Column1-Body1">57280</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyE-Column1-Body1">3000</td><td class="TableStyle-Basic-BodyE-Column1-Body1">8634</td><td class="TableStyle-Basic-BodyD-Column1-Body1">91604</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyE-Column1-Body1">4000</td><td class="TableStyle-Basic-BodyE-Column1-Body1">12423</td><td class="TableStyle-Basic-BodyD-Column1-Body1">122031</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyE-Column1-Body1">5000</td><td class="TableStyle-Basic-BodyE-Column1-Body1">14862</td><td class="TableStyle-Basic-BodyD-Column1-Body1">148167</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyE-Column1-Body1">6000</td><td class="TableStyle-Basic-BodyE-Column1-Body1">17967</td><td class="TableStyle-Basic-BodyD-Column1-Body1">179345</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyE-Column1-Body1"><p>7000</p></td><td class="TableStyle-Basic-BodyE-Column1-Body1">20966</td><td class="TableStyle-Basic-BodyD-Column1-Body1">210320</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyE-Column1-Body1">8000</td><td class="TableStyle-Basic-BodyE-Column1-Body1">24736</td><td class="TableStyle-Basic-BodyD-Column1-Body1">242198</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyE-Column1-Body1">9000</td><td class="TableStyle-Basic-BodyE-Column1-Body1">26720</td><td class="TableStyle-Basic-BodyD-Column1-Body1">266217</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyB-Column1-Body1">10000</td><td class="TableStyle-Basic-BodyB-Column1-Body1">30150</td><td class="TableStyle-Basic-BodyA-Column1-Body1">302918</td></tr></tbody></table>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/Performance_Graph.png" alt="" /></p>
      <h3 id="example-to-set-property-pbkdf2_iterations">
        
        
          <a href="#example-to-set-property-pbkdf2_iterations" class="anchor-heading" aria-labelledby="example-to-set-property-pbkdf2_iterations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example to set property ‘‘PBKDF2_ITERATIONS”
        
        
      </h3>
    

<p>Request:<br />
POST authservice/api/v1/setup/tenants/<tenant-id>/properties  
Headers:  
Authorization: <auth-token>  
Content-Type: application/x-www-form-urlencoded  
Payload:  
name = PBKDF2\_ITERATIONS  
value = 10000</auth-token></tenant-id></p>
      <h3 id="sample-request">
        
        
          <a href="#sample-request" class="anchor-heading" aria-labelledby="sample-request"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sample request
        
        
      </h3>
    

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">POST /authService/100000002/api/v1/setup/tenants/100000002/properties HTTP/1.1  
Host: example.com  
Authorization: eyAidHlwIjogImp3dCIsICJhbGciOiAiUlMyNTYiIH0.eyAiX2VtYWlsIjogInNhaWtpcmFuLmdvdWRAa29ueS5jb20iLCAiX3ZlciI6ICJ2MS4xIiwgImlzcyI6ICJodHRwOi8vc2VjdXJpdHl0ZXN0dm0ua2l0c3BsLmNvbTo4MDgwL2F1dGhTZXJ2aWNlL2FjY291bnRzIiwgIl9zY29wZSI6ICJnIiwgIl9pc3NtZXRhIjogIi9tZXRhZGF0YS9rNDVRdFcxa0V5SXRsUkg5eG9renZnPT0iLCAiX3Nlc3Npb25faWQiOiAiYTBmYTE1NmQtNDFmNi00NzkxLTgwNmMtOTBhM2FmNmZlZGFlIiwgIl9wdWlkIjogNTA0NDIxMzMzNDk2MSwgIl9pZHAiOiAidXNlcnN0b3JlIiwgImV4cCI6IDE1MTk4OTcwMzAsICJpYXQiOiAxNTE5ODkzNDMwLCAiX3Nlc3Npb25fdGlkIjogImFjY291bnRzIiwgIl9wcm92X3VzZXJpZCI6ICJzYWlraXJhbi5nb3VkQGtvbnkuY29tIiwgImp0aSI6ICI3ODYxYjA1NS0wNmNiLTQwODItOWRkZC04MDFkNTJjY2ExM2QiLCAiX2FjcyI6ICJhY2NvdW50cyIgfQ.nRhGEbfTqzl5aCgEYn85YUPxM3LOMedVFjJX4NlYhlIRzYs\_5JkuCH3Yl-p8uVGw2rNOoqzK1x2KUhe3oPRQ8ab4QTVddYnTBfsQt9lFViiGMlOKgbLDI7wn9AGfwsQRB\_6fNVJ5HEt2k6kC2C8mHCYGWnXTRjLEKsK-k9Wc5Gaur49yKEjl6\_tkH--qoDsqFYuLGHzad4zQHtsRxrxgxfI\_z3QuN3VF\_DYKoD5Nzsi5rxGSCu-PPH9\_gQRO2ED6S-WllJdJTTIal\_pa4bGG-JhDtCdOR9GHDPcbBZ6WG1GwTJKWbqDEDzxjrxiKk5VZDOwjUuhwTJwE2cwQJIO-EQ  
Content-Type: application/x-www-form-urlencoded  
Cache-Control: no-cache  
Postman-Token: 745a8e95-171b-204c-a934-37d434054adb  
name=PBKDF2\_ITERATIONS&amp;value=1000</code></pre>
</figure>
      <h3 id="steps-to-get-auth-token-and-tenant-id">
        
        
          <a href="#steps-to-get-auth-token-and-tenant-id" class="anchor-heading" aria-labelledby="steps-to-get-auth-token-and-tenant-id"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Steps to get Auth token and Tenant ID
        
        
      </h3>
    

<ol>
  <li>Login to VoltMX Foundry using Owner account.</li>
  <li>Goto <a href="http://securitytestvm.kitspl.com:8080/mfconsole/accountInfo">http://securitytestvm.kitspl.com:8080/mfconsole/accountInfo</a></li>
  <li>Note down the tenant id and auth token as shown in below image.</li>
</ol>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/Auth_Token_665x259.png" alt="" /></p>
      <h2 id="idle-session-timeout-for-voltmx-foundry-app">
        
        
          <a href="#idle-session-timeout-for-voltmx-foundry-app" class="anchor-heading" aria-labelledby="idle-session-timeout-for-voltmx-foundry-app"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Idle Session Timeout for VoltMX Foundry App
        
        
      </h2>
    

<p>VoltMX Foundry supports configuring session timeout (idle timeout and fixed timeout) for an app identity session.</p>

<p>You can configure either an idle timeout or fixed timeout for apps in the Applications &gt; Identity page.</p>

<ul>
  <li>
    <p><strong>Idle Timeout</strong>: Specifies the amount of time in minutes that a session can remain idle before VoltMX Foundry automatically terminates the app.</p>

    <ul>
      <li>Identity Session Idle Timeout: When an app session on a device remains idle for a certain amount of time, the app session expires automatically. The user will need to log in to the app again.</li>
      <li>Maximum Session Duration: An apps log-in session is active until the maximum session duration time is met.</li>
    </ul>
  </li>
  <li>
    <p><strong>Fixed Timeout</strong>: Specifies the app session’s idle timeout (HH:SS). When the timeout is reached, the session expires automatically, and the user will need to log into the app again.</p>
  </li>
</ul>

<p>VoltMX Security Team recommends Identity Session Idle Timeout to be set to 00:05 hours (5 Minutes).</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/Idle_Session_625x169.png" alt="" /></p>
      <h2 id="password-policy-for-voltmx-foundry-users">
        
        
          <a href="#password-policy-for-voltmx-foundry-users" class="anchor-heading" aria-labelledby="password-policy-for-voltmx-foundry-users"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Password Policy for VoltMX Foundry users
        
        
      </h2>
    

<p>No matter how secure VoltMX Foundry is, Users will eventually choose their own password. Therefore, you should set account policies that define a secure password for your systems.</p>

<p>The default password policy is password must contain at least 8 characters, at most 20 characters and must include at least one uppercase letter, one lowercase letter, one digit and one special character.</p>

<p>An owner of the account can change the password policy by changing “password_regex” property.</p>

<p>Request:<br />
POST authservice/api/v1/setup/tenants/<tenant-id>/properties  
Headers:  
Authorization: <auth-token>  
Content-Type: application/x-www-form-urlencoded  
Payload:  
name = password\_regex  
value = ^(?=.\*\[a-z\])(?=.\*\[A-Z\])(?=.\*\\\\d)(?=.\*(\_|\[^\\\\w\])).{8,20}$</auth-token></tenant-id></p>
      <h3 id="sample-request-1">
        
        
          <a href="#sample-request-1" class="anchor-heading" aria-labelledby="sample-request-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sample Request
        
        
      </h3>
    

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">POST /authService/100000002/api/v1/setup/tenants/100000002/properties HTTP/1.1  
Host: example.com  
Authorization: eyAidHlwIjogImp3dCIsICJhbGciOiAiUlMyNTYiIH0.eyAiX2VtYWlsIjogInNhaWtpcmFuLmdvdWRAa29ueS5jb20iLCAiX3ZlciI6ICJ2MS4xIiwgImlzcyI6ICJodHRwOi8vc2VjdXJpdHl0ZXN0dm0ua2l0c3BsLmNvbTo4MDgwL2F1dGhTZXJ2aWNlL2FjY291bnRzIiwgIl9zY29wZSI6ICJnIiwgIl9pc3NtZXRhIjogIi9tZXRhZGF0YS9rNDVRdFcxa0V5SXRsUkg5eG9renZnPT0iLCAiX3Nlc3Npb25faWQiOiAiYTBmYTE1NmQtNDFmNi00NzkxLTgwNmMtOTBhM2FmNmZlZGFlIiwgIl9wdWlkIjogNTA0NDIxMzMzNDk2MSwgIl9pZHAiOiAidXNlcnN0b3JlIiwgImV4cCI6IDE1MTk4OTcwMzAsICJpYXQiOiAxNTE5ODkzNDMwLCAiX3Nlc3Npb25fdGlkIjogImFjY291bnRzIiwgIl9wcm92X3VzZXJpZCI6ICJzYWlraXJhbi5nb3VkQGtvbnkuY29tIiwgImp0aSI6ICI3ODYxYjA1NS0wNmNiLTQwODItOWRkZC04MDFkNTJjY2ExM2QiLCAiX2FjcyI6ICJhY2NvdW50cyIgfQ.nRhGEbfTqzl5aCgEYn85YUPxM3LOMedVFjJX4NlYhlIRzYs\_5JkuCH3Yl-p8uVGw2rNOoqzK1x2KUhe3oPRQ8ab4QTVddYnTBfsQt9lFViiGMlOKgbLDI7wn9AGfwsQRB\_6fNVJ5HEt2k6kC2C8mHCYGWnXTRjLEKsK-k9Wc5Gaur49yKEjl6\_tkH--qoDsqFYuLGHzad4zQHtsRxrxgxfI\_z3QuN3VF\_DYKoD5Nzsi5rxGSCu-PPH9\_gQRO2ED6S-WllJdJTTIal\_pa4bGG-JhDtCdOR9GHDPcbBZ6WG1GwTJKWbqDEDzxjrxiKk5VZDOwjUuhwTJwE2cwQJIO-EQ  
Content-Type: application/x-www-form-urlencoded  
Cache-Control: no-cache  
Postman-Token: ebb17b95-9e44-6ebd-1953-3ad9f1c9019f  
name=password\_regex&amp;value=^(?=.\*\[a-z\])(?=.\*\[A-Z\])(?=.\*\\\\d)(?=.\*(\_|\[^\\\\w\])).{8,20}$</code></pre>
</figure>
      <h3 id="steps-to-get-auth-token-and-tenant-id-1">
        
        
          <a href="#steps-to-get-auth-token-and-tenant-id-1" class="anchor-heading" aria-labelledby="steps-to-get-auth-token-and-tenant-id-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Steps to get Auth token and Tenant ID
        
        
      </h3>
    

<ol>
  <li>Login to VoltMX Foundry using Owner account.</li>
  <li>Goto <a href="http://securitytestvm.kitspl.com:8080/mfconsole/accountInfo">http://securitytestvm.kitspl.com:8080/mfconsole/accountInfo</a></li>
  <li>Note down the tenant id and auth token as shown in below image.</li>
</ol>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/Auth_Token_TID_645x252.png" alt="" /></p>
      <h3 id="version-management">
        
        
          <a href="#version-management" class="anchor-heading" aria-labelledby="version-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Version Management
        
        
      </h3>
    

<ul>
  <li>A policy to periodically install security patches of all software must be in place.</li>
  <li>A mechanism to regularly check for missing security patches must be in place.</li>
  <li>Software should be installed from a central, trusted repository when available.</li>
  <li>Services must display minimal information about the installed version.</li>
</ul>
      <h3 id="network-security">
        
        
          <a href="#network-security" class="anchor-heading" aria-labelledby="network-security"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Network security
        
        
      </h3>
    

<ul>
  <li>Only a minimal set of ICMP packets must be accepted</li>
  <li>Packet rate-limiting must be implemented</li>
</ul>
      <h2 id="hardening-voltmx-foundry-integration-middleware">
        
        
          <a href="#hardening-voltmx-foundry-integration-middleware" class="anchor-heading" aria-labelledby="hardening-voltmx-foundry-integration-middleware"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hardening VoltMX Foundry Integration (Middleware)
        
        
      </h2>
    

<p>In addition to the security best practices followed by the customer as per their internal guidelines, VoltMX makes the following recommendations to reduce the attack surface of their integration server deployments.</p>

<ol>
  <li><strong>Applying latest patches</strong><br />
The web server, the underlying operating system, the application server and the database server must all have the latest patches applied. This protects the installation against exploits for known vulnerabilities.</li>
  <li><strong>Removing unnecessary services</strong><br />
Every service running on the application server is an additional attack surface especially if the service is listening on a port and is remotely accessible. All services other than the ones that are absolutely required to run the Integration Server (formerly middleware) product must be turned off.</li>
  <li><strong>Use Hardened Application and Database servers</strong><br />
The servers included as part of the Integration Server deployment should be hardened as per the hardening recommendations available from the vendor or independent groups like NSA/SANS who have made such information available publicly.</li>
  <li><strong>Restrict Access to Non- Integration Services</strong><br />
Integration services would typically be made accessible from the intranet or internet. Access to other services on the server can be restricted using IP tables or other host-level firewalls.</li>
  <li><strong>Restrict Access to Admin Console</strong><br />
Admin Console is the administrative interface and it is recommended to restrict access to internal networks only if possible. This can be achieved in two ways:
    <ul>
      <li>Configure Admin Console and Integration Services to use two different ports and restrict access to the port on which Console is running to only internal users.</li>
      <li>At the Load Balancer, you can write a filter to block access to the Console part of the application from external users. Restrict Access to Non- Integration Services.</li>
    </ul>
  </li>
  <li><strong>Application Server Privileges</strong><br />
Integration Server can function effectively when Tomcat is run as the default Tomcat user without any special privileges being granted. It is strongly recommended that the server should be production grade with lesser privileges such as disabling direct access and process request through LB and other HTTP verbs.</li>
  <li><strong>Database Server Privileges</strong><br />
Integration Server installation requires creating new Databases and tables, once the installation is done, it would only <strong>insert</strong>, <strong>query</strong> and <strong>update</strong> entries in the existing tables. Hence it is recommended that only during the installation process a database user with permission to perform creation and deletion privileges is used. Once the installation is done this user account can be deleted and replaced with another user who only has permissions to <strong>Read</strong>, <strong>Insert</strong> and <strong>Update</strong>. Dangerous functions like <code class="language-plaintext highlighter-rouge">system() (MySQL)</code>, <code class="language-plaintext highlighter-rouge">xp_cmdshell (MS SQL)</code> must be disabled or permissions to use these functions should not be granted to the admin database account.</li>
  <li><strong>Log Level Recommendation</strong> VoltMX recommendation on log4j Log level is ERROR in production to avoid logging any sensitive information in log files. Make sure the below to change log level to ERROR.
    <ol>
      <li>In middleware-log4j.properties file, All log levels should be ERROR</li>
      <li>In Admin Console Configuration page, Log Level configuration should be selected as ERROR.</li>
    </ol>
  </li>
  <li><strong>HTTPS mode</strong>. Integration Server works both in HTTP and HTTPS mode. It is recommended to install the server in https mode.</li>
  <li><strong>SSL Certificate Type</strong><br />
    Recommended using your own existing SSL certificate rather than going with a generated self-signed certificate.</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>![](/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/Existing_SSL.png)
</code></pre></div></div>
      <h2 id="hardening-voltmx-foundry-identity">
        
        
          <a href="#hardening-voltmx-foundry-identity" class="anchor-heading" aria-labelledby="hardening-voltmx-foundry-identity"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hardening VoltMX Foundry Identity
        
        
      </h2>
    

<p>In addition to the security best practices followed by the customer as per their internal guidelines, VoltMX makes the following recommendations to reduce the attack surface of their VoltMX Foundry Identity Deployments.</p>

<ol>
  <li><strong>Restrict Access to Non-VoltMX Foundry Identity Services</strong>: VoltMX Foundry Identity service would typically be made accessible from the intranet or the internet. Access to other services on the server can be restricted using IP tables or other host-level firewalls.</li>
  <li><strong>Restrict Access to VoltMX Foundry Console</strong>: VoltMX Foundry Console is the administrative interface and it is recommended to restrict access to internal networks only if possible. This can be achieved in two ways:
    <ul>
      <li>Configure VoltMX Foundry Console and VoltMX Foundry Identity Service to use two different ports and restrict access to the port on which Console is running to only internal users.</li>
      <li>At the Load Balancer, you can write a filter to block access to the Console part of the application from external users. Restrict Access to Non-VoltMX Foundry Identity Services</li>
    </ul>
  </li>
  <li><strong>Log Level Recommendation</strong> VoltMX recommendation on log4j Log level is ERROR in production to avoid logging any sensitive information in log files. It is recommended to set the LOG_LEVEL property in authService.properties to ERROR.</li>
  <li><strong>VoltMX Foundry Identity tokens and sessions</strong>: When a user logs in to an identity provider in VoltMX Foundry via an app, the user passes app credentials (VoltMX Foundry app key and secret), and user credentials for the backend identity provider. The Identity service validates the app credentials and sends the user credentials to the backend identity provider for authentication (in case of SAML or OAuth, the user credentials are passed to backend identity provider via client-side browser redirect and not via VoltMX Foundry Identity). The backend authenticates the user and returns a session token (known as the backend token), which can then be used to access the user’s data in the backend. Once the user is successfully authenticated at the backend, VoltMX Foundry Identity creates a session and issues an Identity token linked to the session. The VoltMX Foundry Identity token is a JWT token signed by the tenant’s signing key and contains claims about the authenticated user, app, provider, issuer, and session. The backend tokens are also linked to the identity session.</li>
</ol>
      <h2 id="preventing-tomcat-version-from-error-pages">
        
        
          <a href="#preventing-tomcat-version-from-error-pages" class="anchor-heading" aria-labelledby="preventing-tomcat-version-from-error-pages"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Preventing Tomcat Version from Error Pages
        
        
      </h2>
    

<p>When you access VoltMX Foundry V8.x by using a particular URL directly from a browser, the web page displays Tomcat Application Server’s version.</p>

<p>For example, the Apache Tomcat server version is disclosed, as shown in the following screen shot:</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/TomcatVersionDisclosure.png" alt="" /></p>

<p>For security reasons, you must disable the server information disclosure for Tomcat application server.</p>

<p>To prevent disclosure of the Tomcat Application Server version, follow these steps:</p>

<ol>
  <li>Open the Tomcat Server &gt; <code class="language-plaintext highlighter-rouge">server.xml</code> file.</li>
  <li>Add the following:</li>
</ol>
<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">&lt;Valve className="org.apache.catalina.valves.ErrorReportValve"
    showReport="false" 
    showServerInfo="false"/&gt;
    </code></pre>
</figure>

<ol>
  <li>Save the server.xml.</li>
  <li>Restart the server.</li>
</ol>
      <h2 id="disable-concurrent-session">
        
        
          <a href="#disable-concurrent-session" class="anchor-heading" aria-labelledby="disable-concurrent-session"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Disable Concurrent Session
        
        
      </h2>
    

<p>If your users are not going to connect to more than one session, it is recommended to disable concurrent sessions.</p>

<p>To disable concurrent sessions, add the following property in the waas_property table of the console db:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">property_name="DISABLE_CONCURRENT_SESSIONS"</code></li>
  <li><code class="language-plaintext highlighter-rouge">property_value="true"</code></li>
  <li><code class="language-plaintext highlighter-rouge">tenant_name = __global</code></li>
  <li><code class="language-plaintext highlighter-rouge">etag = &lt;Any 36 char guid&gt;</code></li>
</ul>

<p>Alternatively, you can also use the following API to add the property in the waas table:</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">POST &lt;Waas\_Base\_URL&gt;/api/v1/setup/properties</code></pre>
</figure>

<p>Headers:</p>

<ul>
  <li>X-VoltMX-Authorization = <Claims token="" value=""></Claims></li>
  <li>Content-Type = application/x-www-form-urlencoded</li>
</ul>

<p>Form Data parameters:</p>

<ul>
  <li>name = DISABLE_CONCURRENT_SESSIONS</li>
  <li>value = true</li>
</ul>

<p>Sample <code class="language-plaintext highlighter-rouge">Waas_Base_URL = http://localhost:9090/workspace/100000002</code></p>

<p>Follow these steps to get the X-VoltMX-Authorization token:</p>

<ol>
  <li>
    <p>Log on to VoltMX Foundry and go to the accountInfo section</p>

    <p>For example, <code class="language-plaintext highlighter-rouge">http://localhost:9090/mfconsole/accountInfo</code></p>
  </li>
  <li>Retrieve the value corresponding to the <strong>authToken</strong> key from the output folder.</li>
  <li>Navigate to <code class="language-plaintext highlighter-rouge">authService.war/Web-INF/classes</code>, edit the <code class="language-plaintext highlighter-rouge">authService.properties</code> file, and add <code class="language-plaintext highlighter-rouge">DISABLE_CONCURRENT_SESSIONS=true</code> at the end of the file.</li>
  <li>Restart the server.</li>
</ol>
      <h2 id="protection-against-automated-attacks">
        
        
          <a href="#protection-against-automated-attacks" class="anchor-heading" aria-labelledby="protection-against-automated-attacks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Protection against automated attacks
        
        
      </h2>
    

<p>VoltMX Foundry provides a security feature to block users on multiple failed log-in attempts. If a user tries to sign in multiple times using invalid credentials, VoltMX Foundry blocks their account for a certain period called the Blocking Threshold. They can log on only after the blocking threshold elapses.</p>

<blockquote>
  <p><strong><em>Note:</em></strong> This feature is applicable for On-Premise installations of VoltMX Foundry 7.2 and above.</p>
</blockquote>

<p>VoltMX Foundry provides an option to configure the following:</p>

<ul>
  <li>Number of failed log in attempts before the user is blocked.</li>
  <li>Blocking Threshold</li>
</ul>
      <h3 id="configuring-user-blocking-feature">
        
        
          <a href="#configuring-user-blocking-feature" class="anchor-heading" aria-labelledby="configuring-user-blocking-feature"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring User Blocking Feature
        
        
      </h3>
    

<p>You must obtain an <strong>authToken</strong> to configure the number of failed attempts to sign in and blocking threshold time in Identity.<br />
Follow these steps to get the <strong>authToken</strong>.</p>

<ul>
  <li>Log on to the VoltMX Foundry Console from a browser and open the <code class="language-plaintext highlighter-rouge">&lt;VoltMX Foundry Url&gt;/mfconsole/accountInfo</code> API in a new tab.</li>
  <li>
    <p>The console displays the following response:</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/BlockUser_Response_595x188.png" alt="" /></p>
  </li>
  <li>Copy the <strong>authUrl</strong> and <strong>authToken</strong> from the response.</li>
</ul>

<p>Invoke the following API to enable User Blocking on multiple failed login attempts.</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">POST &lt;authUrl&gt;/api/v1/setup/tenants/\_\_global/properties</code></pre>
</figure>

<p>Headers:</p>

<ul>
  <li>Content-Type: application/json</li>
  <li>X-VoltMX-Authorization: <authToken></authToken></li>
</ul>

<p>Request body:</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">{
   "name":"MAX\_LOGON\_FAILED\_ATTEMPTS",
   "value":"3"
}</code></pre>
</figure>

<p>Specify the value as the maximum number of failed sign in attempts you want to allow. In this scenario, VoltMX Foundry blocks the user after three consecutive failed sign in attempts.</p>

<p>If the user tries to sign in after three failed attempts, the console displays the following message:<br />
“User account locked due to multiple failed login attempts. Please contact the system administrator.”</p>

<p>Use the following API to set the blocking threshold</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">POST &lt;authUrl&gt;/api/v1/setup/tenants/\_\_global/properties</code></pre>
</figure>

<p>Headers:</p>

<p>Content-Type: application/json</p>

<p>X-VoltMX-Authorization: <authToken></authToken></p>

<p>Request body:</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">{
   "name":"LOGON\_BLOCKING\_THRESHOLD\_MINUTES",
   "value":"15"
}</code></pre>
</figure>

<p>Specify the value of the blocking threshold in the value field. In this scenario, the user is blocked for 15 minutes. After 15 minutes, they can log on to the Console using valid credentials.</p>
      <h3 id="unblocking-the-user">
        
        
          <a href="#unblocking-the-user" class="anchor-heading" aria-labelledby="unblocking-the-user"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Unblocking the user
        
        
      </h3>
    

<p>The user can sign in after the blocking threshold ends.</p>

<p>A database admin can unblock a user before the blocking threshold ends. To unblock a user, follow the given steps:</p>

<ol>
  <li>Connect to the Identity Config Database <prefix>idconfigdb<suffix> (the <prefix> and <suffix> must be the same as configured at the time of installation)</suffix></prefix></suffix></prefix></li>
  <li>Issue the following SQL command:</li>
</ol>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">set sql\_safe\_updates = 0;
    UPDATE users
    SET
       user\_status = 'active',
        login\_fail\_count = 0
    WHERE
        userid = '&lt;the blocked userid here&gt;';
    set sql\_safe\_updates = 1;</code></pre>
</figure>
      <h2 id="restrict-tomcat-manager-to-localhost">
        
        
          <a href="#restrict-tomcat-manager-to-localhost" class="anchor-heading" aria-labelledby="restrict-tomcat-manager-to-localhost"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Restrict Tomcat Manager to Localhost
        
        
      </h2>
    

<p>Follow these steps to secure the tomcat manager to the localhost.</p>

<ol>
  <li>Create an xml file called <code class="language-plaintext highlighter-rouge">manager.xml</code> in the <code class="language-plaintext highlighter-rouge">/conf/catalina/localhost</code> path.</li>
  <li>write the following code in <strong>manager.xml</strong>:</li>
</ol>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">&lt;Context path="/manager" debug="0" privileged="true"&gt;
 
      &lt;Valve className="org.apache.catalina.valves.RemoteAddrValve"
allow="127.0.0.1"/&gt;
 
      &lt;!-- Link to the user database we will get roles from
      &lt;ResourceLink name="users" global="UserDatabase" 
type="org.apache.catalina.UserDatabase"/&gt;
        --&gt;
&lt;/Context&gt;</code></pre>
</figure>
      <h2 id="secure-your-cookies-secure-and-httponly-flags">
        
        
          <a href="#secure-your-cookies-secure-and-httponly-flags" class="anchor-heading" aria-labelledby="secure-your-cookies-secure-and-httponly-flags"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Secure your Cookies (Secure and HttpOnly flags)
        
        
      </h2>
    

<p>For Tomcat/WebLogic as Web Server</p>

<p>Cookies let websites store data directly on the web browser of a user. Websites primarily use cookies to identify the user session based on their browsing. Cookies contain sensitive data that must be protected.</p>

<p>To make your cookies secure, modify the <strong>web.xml</strong> and <strong>weblogic.xml</strong> files of the webapp for the required components.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">WebApps &gt; mfconsole</code> for VoltMX Foundry Console</li>
  <li><code class="language-plaintext highlighter-rouge">WebApps &gt; admin</code> for VoltMX Foundry Admin Console</li>
  <li><code class="language-plaintext highlighter-rouge">WebApps &gt; vpns</code> for VoltMX Foundry Engagement</li>
  <li><code class="language-plaintext highlighter-rouge">WebApps &gt; authService</code> for VoltMX Foundry AuthService</li>
</ul>

<p>Add the following code in the <strong>web.xml</strong> file:</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">&lt;cookie-config&gt;
&lt;http-only&gt;true&lt;/http-only&gt;
&lt;secure&gt;true&lt;/secure&gt;
&lt;/cookie-config&gt;</code></pre>
</figure>

<p>Add the following code in the <strong>weblogic.xml</strong> file:</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">&lt;session-descriptor&gt;
&lt;cookie-secure&gt;true&lt;/cookie-secure&gt;
&lt;/session-descriptor&gt;</code></pre>
</figure>
<ul>
  <li>Restart the Application Server.</li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/HTTPtoHTTPS_591x104.png" alt="" /></p>

<p>You can use developer tools to verify the changes.</p>

<p>For JBoss as the Web Server, do the following.</p>

<p>To enable <code class="language-plaintext highlighter-rouge">secure/Http-only</code> for all deployed applications, you can add a session-cookie config to your undertow subsystem’s <code class="language-plaintext highlighter-rouge">servlet-container</code> section (<code class="language-plaintext highlighter-rouge">domain.xml</code> file or <code class="language-plaintext highlighter-rouge">standalone-xxx.xml</code> file). For example, a session-cookie config is as follows:</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">&lt;subsystem xmlns="urn:jboss:domain:undertow:3.1"&gt;
 ...
  &lt;servlet-container name="default"&gt;
          &lt;jsp-config/&gt;
          &lt;session-cookie http-only="true" secure="true" /&gt; &lt;!-- added --&gt;
          &lt;websockets/&gt;
 &lt;/servlet-container&gt;</code></pre>
</figure>

<p>For WebSphere as the Web Server, follow these steps.</p>

<ol>
  <li>Sign in to <a href="https://manage.voltmx.com/">VoltMX Foundry Console</a>.</li>
  <li>Select Environments from the left navigation pane.</li>
  <li>Go to Admin Console.</li>
  <li>
    <p>In <strong>Application servers</strong></p>

    <ol>
      <li>Select your server.</li>
      <li>Go to <strong>Session management</strong> &gt; <strong>Cookies</strong>, enable the cookies .</li>
    </ol>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/WebSphere-Settings_633x267.jpg" alt="" /></p>
  </li>
</ol>
      <h2 id="redirect-traffic-from-non-secure-protocol-http-to-secure-protocol-https">
        
        
          <a href="#redirect-traffic-from-non-secure-protocol-http-to-secure-protocol-https" class="anchor-heading" aria-labelledby="redirect-traffic-from-non-secure-protocol-http-to-secure-protocol-https"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Redirect Traffic from Non-Secure Protocol (HTTP) to Secure Protocol (HTTPS)
        
        
      </h2>
    

<p>Follow these steps to setup the Tomcat Server to redirect HTTP requests to the HTTPS port to access web applications from both the ports:</p>

<ol>
  <li>Add the following code in the <strong>server.xml</strong> file present in the <code class="language-plaintext highlighter-rouge">TomcatInstallation/conf</code> path.</li>
</ol>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">&lt;security-constraint&gt;
    &lt;web-resource-collection&gt;
    &lt;web-resource-name&gt;securedapp&lt;/web-resource-name&gt;
    &lt;url-pattern&gt;/\*&lt;/url-pattern&gt;
    &lt;/web-resource-collection&gt;
    &lt;user-data-constraint&gt;
    &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;
    &lt;/user-data-constraint&gt;
    &lt;/security-constraint&gt;
    
    </code></pre>
</figure>

<ol>
  <li>Restart the Application Server.</li>
</ol>
      <h2 id="enabling-secure-flag-for-cacheid-cookie">
        
        
          <a href="#enabling-secure-flag-for-cacheid-cookie" class="anchor-heading" aria-labelledby="enabling-secure-flag-for-cacheid-cookie"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Enabling Secure flag for CacheID Cookie
        
        
      </h2>
    

<p>The middleware sets the CacheID to refer to the cached data from Memcached.</p>

<p>Enable the secure flag for the CacheID cookie using the following -D parameter:</p>

<ol>
  <li>Go to <code class="language-plaintext highlighter-rouge">tomcat\bin</code> in the Installation folder.</li>
  <li>Edit <strong>Catalina</strong>.</li>
  <li>At the end of the first line, add <code class="language-plaintext highlighter-rouge">-Dis.cacheid.cookie.secure=true</code>.</li>
  <li>Save the changes</li>
  <li>Restart the server.</li>
</ol>
      <h2 id="configuring-owasp-secure-headers-for-spadesktop-apps">
        
        
          <a href="#configuring-owasp-secure-headers-for-spadesktop-apps" class="anchor-heading" aria-labelledby="configuring-owasp-secure-headers-for-spadesktop-apps"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring OWASP secure headers for SPA/Desktop apps
        
        
      </h2>
    

<p>The OWASP Secure Headers describe the HTTP response headers that your application can use to increase its security. The HTTP response headers can restrict modern browsers from running into easily preventable vulnerabilities. The OWASP Secure Headers Project increases awareness and the use of these headers.</p>

<p>The HTTP headers should include the following headers and their respective values.</p>

<ul>
  <li><strong>X-Frame-Options</strong>: SAMEORIGIN</li>
  <li><strong>X-XSS-Protection</strong>: 1; mode=block</li>
  <li><strong>X-Content-Type-Options</strong>: nosniff</li>
  <li><strong>Content-Type</strong>: text.html; charset=utf-8</li>
  <li><strong>Strict-Transport-Security</strong>: max-age=86400; includeSubDomains</li>
</ul>

<p>Also, if there no overriding concerns, enable the security settings.</p>

<p>To set the response header for VoltMX Foundry version V8 SP3 or higher versions, follow these steps.</p>

<ul>
  <li>To overcome these security issues in VoltMX SPA and Desktop Web applications, add custom filter and filter mapping entry in the <strong>web.xml</strong> file.</li>
  <li>For example:</li>
</ul>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain)
    throws IOException, ServletException {
     HttpServletRequest req = (HttpServletRequest) request;
     HttpServletResponse res = (HttpServletResponse) response;
     res.setHeader (""""X-Content-Type-Options"""", """"nosniff"""");.... // Similarly add your response headers. ... filterChain.doFilter(request, response); 
    }
    
    </code></pre>
</figure>

<ul>
  <li>Create a jar file using the class that you created.</li>
</ul>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">&lt;filter&gt;
    &lt;filter-name&gt;XXXFilter&lt;/filter-name&gt;
    &lt;filter-class&gt;com.xyz.web.filter.XXXFilter&lt;/filter-class&gt;
    &lt;/filter&gt;
    &lt;filter-mapping&gt;
    &lt;filter-name&gt;XXXFilter&lt;/filter-name&gt;
    &lt;url-pattern&gt;/&lt;/url-pattern&gt; 
    &lt;/filter-mapping&gt;
    
    </code></pre>
</figure>

<ul>
  <li>Extract the build application War file and add the mentioned lib and entry in web.xml.</li>
  <li>VoltMX Iris provides an option to add jars and edit the web.xml under <code class="language-plaintext highlighter-rouge">Menu &gt; File &gt; Combine EAR file</code> option.</li>
</ul>

<blockquote>
  <p><strong><em>Note:</em></strong> Usage of the custom filter is the responsibility of the application developer.</p>
</blockquote>

<p>Setting the response header for VoltMX Foundry version V8 SP3 or ealier versions.</p>

<p>To add OWASP Secure Headers to WebApp Static Files, follow these steps.</p>

<ol>
  <li>Sign in to <a href="https://manage.voltmx.com/">VoltMX Foundry Console</a>.</li>
  <li>Select Environments from the left navigation pane.</li>
  <li>Select App Services to open the Server Admin Console.</li>
  <li>Go to <code class="language-plaintext highlighter-rouge">Settings &gt; Runtime Configuration &gt; Web Apps Configuration &gt; Custom Response Header</code>.</li>
  <li>Add the required header in the following format:</li>
</ol>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">\[{
        'name': 'X-Content-Type-Options',
        'value': 'nosniff'
    }, {
        'name': 'X-Frame-Options',
        'value': 'DENY'
    }, {
        'name': 'X-XSS-Protection',
        'value': ' 1; mode=block'
    }, {
        'name': 'Strict-Transport-Security',
        'value': 'max-age=86400; includeSubDomains'
    }\]
    </code></pre>
</figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>![](/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/OWASP_Header_596x279.png)
</code></pre></div></div>

<p>To add OWASP Secure Headers to Middleware Services, follow these steps.</p>

<ol>
  <li>Write a custom filter that adds the response headers to the response.</li>
  <li>Add the following custom filter to preprocessor and postprocessor jar, and publish the app.</li>
</ol>
<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">import java.io.IOException;
    
    import javax.servlet.Filter;
    import javax.servlet.FilterChain;
    import javax.servlet.FilterConfig;
    import javax.servlet.ServletException;
    import javax.servlet.ServletRequest;
    import javax.servlet.ServletResponse;
    import javax.servlet.http.HttpServletRequest;
    import javax.servlet.http.HttpServletResponse;
    
    import org.apache.log4j.Logger;
    
    import com.hcl.middleware.common.DCFilter;
    import com.hcl.middleware.common.MWConstants;
    import com.hcl.middleware.servlet.filters.IntegrationCustomFilter;
    
    
    @IntegrationCustomFilter(filterOrder = 101, urlPatterns = MWConstants.ANY)
    public class XYZCustomFIlter implements Filter {
        private static final Logger logger = Logger.getLogger(XYZCustomFIlter.class);
        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)
        throws IOException, ServletException {
            // TODO Auto-generated method stub
            chain.doFilter(request, response);
            HttpServletResponse res = (HttpServletResponse) response;
            res.setHeader("Cache-Control", "no-cache,no-store,must-revalidate");
            res.setHeader("Pragma", "no-cache");
            res.setHeader("X-Content-Type-Options", "nosniff");
            res.setHeader("X-Frame-Options", "DENY");
            res.setHeader("X-XSS-Protection", "1; mode=block");
            res.setHeader("Expires", "0");
        }
        public void init(FilterConfig filterConfig) throws ServletException {
            // TODO Auto-generated method stub
    
        }
        public void destroy() {
            // TODO Auto-generated method stub
    
        }
    
    
    }
    </code></pre>
</figure>

<p>Setting the response header for VoltMX Foundry version V8 SP4 or later versions.</p>

<p>To add the OWASP Secure Header to WebApp Static Files, follow these steps.</p>

<ol>
  <li>Sign in to <a href="https://manage.voltmx.com/">VoltMX Foundry Console</a>.</li>
  <li>Select Environments from the left navigation pane.</li>
  <li>Select App Services to open the Server Admin Console.</li>
  <li>Go to <strong>Settings</strong> &gt; <strong>Runtime Configuration</strong> &gt; <strong>Web Apps Configuration</strong> &gt; <strong>Custom Response Header</strong>.</li>
  <li>Add the required header in the following format:</li>
</ol>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">\[{
        'name': 'X-Content-Type-Options',
        'value': 'nosniff'
    }, {
        'name': 'X-Frame-Options',
        'value': 'DENY'
    }, {
        'name': 'X-XSS-Protection',
        'value': ' 1; mode=block'
    }, {
        'name': 'Strict-Transport-Security',
        'value': 'max-age=86400; includeSubDomains'
    }\]
    </code></pre>
</figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>![](/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/OWASP_Header.png)
</code></pre></div></div>

<p>To add OWASP Secure Headers to Middleware Service, follow these steps.</p>

<ol>
  <li>Sign in to <a href="https://manage.voltmx.com/">VoltMX Foundry Console</a>.</li>
  <li>Select Environments from the left navigation pane.</li>
  <li>Go to Admin Console.</li>
  <li>In Admin Console, select Settings from the left navigation pane.</li>
  <li>In <strong>Settings</strong> &gt; <strong>Runtime Configurations</strong> &gt; <strong>General Configuration</strong> &gt; <strong>Service Custom Response Headers</strong>, add the headers in the following format:</li>
</ol>
<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">\[{
        "name": "Cache-Control",
        "value": "no-cache,no-store,must-revalidate"
    }, {
        "name": "Pragma",
        "value": "no-cache"
    }, {
        "name": "X-Content-Type-Options",
        "value": "nosniff"
    }, {
        "name": "X-Frame-Options",
        "value": "DENY"
    }, {
        "name": "X-  XSS-Protection",
        "value": "1; mode=block"
    }, {
        "name": "Expires",
        "value": "0"
    }, {
        'name': 'Strict-Transport-Security',
        'value': 'max-age=86400;includeSubDomains'
    }\]
    </code></pre>
</figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>![](/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/OWASP_Header2_634x379.png)
</code></pre></div></div>
      <h2 id="disable-caching-for-sensitive-middleware-services">
        
        
          <a href="#disable-caching-for-sensitive-middleware-services" class="anchor-heading" aria-labelledby="disable-caching-for-sensitive-middleware-services"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Disable Caching for Sensitive Middleware Services
        
        
      </h2>
    

<p>Most modern browsers and devices store a local cache copy of content received from web servers, unless restricted. Users can also access Cache content through HTTPS. Users having access to a device can retrieve any sensitive information stored in the local cache by other users.</p>

<p>To avoid storage of sensitive data in cache, applications must contain <strong>caching directives</strong> that instruct browsers to not store local copies of any sensitive data. You can configure the web server to prevent caching for relevant paths within the root directory of the web. Alternatively, most web development platforms allow the user to control the server’s caching directives with individual scripts. Ideally, the web server must return the following HTTP headers in all responses that contain sensitive content:</p>

<ul>
  <li><strong>Cache-control</strong>: no-store</li>
  <li><strong>Pragma</strong>: no-cache</li>
</ul>

<p>To set the header for VoltMX Foundry version V8 SP3 or earlier versions, do the following:</p>

<p>Use custom filters to add cache-control as a response-header</p>

<ul>
  <li><strong>CacheHeaderResponseWrapper</strong> is a response wrapper that adds the header just before it writes the response to the client.</li>
  <li><strong>CacheHeaderFilter</strong> is the custom filter that uses the <strong>CacheHeaderResponseWrapper</strong> response wrapper and passes it into the filter chain.</li>
</ul>

<p>The following code is an example for a custom filter.</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx"> **`CacheHeaderResponseWrapper.java`**  
package com.voltmx.custom.filters;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletOutputStream;
import javax.servlet.http.HttpServletResponse;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import com.hcl.middleware.common.KHttpServletResponseWrapper;

public class CacheHeaderResponseWrapper extends KHttpServletResponseWrapper {
    private static final Logger LOGGER = LogManager.getLogger(CacheHeaderResponseWrapper.class);

    private ServletOutputStream originalOutputStream;
    private PrintWriter originalWriter;

    private ServletOutputStream customOutputStream;
    private PrintWriter customWriter;

    private HttpServletResponse response;

    public CacheHeaderResponseWrapper(HttpServletResponse response) {
        super(response);
        this.response = response;
    }

    @Override
    public PrintWriter getWriter() throws IOException {
        if (originalWriter == null) {
            LOGGER.debug("Creating a custom writer.");
            originalWriter = super.getWriter();

            customWriter = new PrintWriter(originalWriter) {

                @Override
                public void write(String content) {
                    addCacheControlHeader();
                    super.write(content);
                }
            };
        }
        return customWriter;
    }

    @Override
    public ServletOutputStream getOutputStream() throws IOException {
        if (originalOutputStream == null) {
            LOGGER.debug("Creating a custom servlet output stream.");
            originalOutputStream = super.getOutputStream();

            customOutputStream = new ServletOutputStream() {

                @Override
                public void write(int b) throws IOException {
                    originalOutputStream.write(b);
                }

                @Override
                public void flush() throws IOException {
                    addCacheControlHeader();
                    super.flush();
                }
            };
        }
        return customOutputStream;
    }

    private void addCacheControlHeader() {
        // Add the required response headers here.
        response.setHeader("Cache-control", "no-store, no-cache, must-revalidate");
        response.setHeader("Pragma", "no-cache");

    }

}

 **`CacheHeaderFilter.java`**  
package com.voltmx.custom.filters;

import java.io.IOException;

import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.http.HttpServletResponse;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import com.hcl.middleware.common.MWConstants;
import com.hcl.middleware.servlet.filters.IntegrationCustomFilter;

@IntegrationCustomFilter(filterOrder = 2, urlPatterns = MWConstants.ANY)
public class CacheHeaderFilter implements Filter {
    private static final Logger LOGGER = LogManager.getLogger(CacheHeaderFilter.class);

    @Override
    public void init(FilterConfig filterConfig) throws ServletException {
        LOGGER.debug("Loading CacheHeaderFilter.");
    }

    @Override
    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)
    throws IOException, ServletException {
        CacheHeaderResponseWrapper responseWrapper = new CacheHeaderResponseWrapper(
            (HttpServletResponse) response);

        chain.doFilter(request, responseWrapper);

    }

    @Override
    public void destroy() {}

}</code></pre>
</figure>

<p>For more information about how to implement a custom filter, refer to <a href="https://basecamp.voltmx.com/s/article-detail/a046A000001lauhQAA/custom-user-filter-guide">Custom User Filter Guide</a>.</p>

<p>Setting the header for VoltMX Foundry version V8 SP4 Hotfix version or later versions.</p>

<p>To add response headers to middleware services, follow these steps.</p>

<ol>
  <li>Sign in to <a href="https://manage.voltmx.com/">VoltMX Foundry Console</a>.</li>
  <li>Select Environments from the left navigation pane.</li>
  <li>Go to Admin Console.</li>
  <li>In Admin Console, select Settings from the left navigation pane.</li>
  <li>In <strong>Settings</strong> &gt; <strong>Runtime Configurations</strong> &gt; <strong>General Configuration</strong> &gt; <strong>Service Custom Response Headers</strong>, add the headers in the following format:</li>
</ol>
<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">\[{
        "name": "Cache-Control",
        "value": "no-cache,no-store,must-revalidate"
    }, {
        "name": "Pragma",
        "value": "no-cache"
    }, {
        "name": "X-Content-Type-Options",
        "value": "nosniff"
    }, {
        "name": "X-Frame-Options",
        "value": "DENY"
    }, {
        "name": "X-  XSS-Protection",
        "value": "1; mode=block"
    }, {
        "name": "Expires",
        "value": "0"
    }, {
        'name': 'Strict-Transport-Security',
        'value': 'max-age=86400;includeSubDomains'
    }\]
    </code></pre>
</figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>![](/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/Resources/Images/OWASP_Header2_630x376.png)
</code></pre></div></div>
      <h2 id="security-fixes-for-the-external-app-servers">
        
        
          <a href="#security-fixes-for-the-external-app-servers" class="anchor-heading" aria-labelledby="security-fixes-for-the-external-app-servers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Security Fixes for the External App Servers
        
        
      </h2>
    

<p>Enable the following headers along with their mentioned values in Foundry App Servers.</p>

<table>
  <thead>
    <tr>
      <th>Header</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>X-Content-Type-Options</td>
      <td>nosniff</td>
    </tr>
    <tr>
      <td>Strict-Transport-Security</td>
      <td>max-age=31536000; includeSubDomains; preload</td>
    </tr>
    <tr>
      <td>Cache-Control</td>
      <td>private, no-cache, no-store, max-age=0, notransform</td>
    </tr>
    <tr>
      <td>Pragma</td>
      <td>no-cache</td>
    </tr>
    <tr>
      <td>Expires</td>
      <td>0</td>
    </tr>
    <tr>
      <td>X-XSS-Protection</td>
      <td>1; mode= block</td>
    </tr>
  </tbody>
</table>

          
  
          
  
          
          
           
              <!--<p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 HCL Digital Solutions</p>-->

  
              
                <div class="d-flex mt-2">
                  
                  
                </div>
              
            </footer>
          
  
        </div>
      </div>
  
      
        
  
        <div class="search-overlay"></div>
      
  
      
    </div>
  
    
    <div class="right-menu scrollable-container" >
      <div class="scrollable">
        
<nav role="navigation" aria-label="Main" id="sub-site-nav" class="site-nav" >
<ul class="nav-list">
  
</ul>

</nav>

    <script>
     const subpageNav = document.getElementById('sub-site-nav');
     const submainmenuButton = document.getElementById('sub-menu-button');
    
   (function(){
    submainmenuButton.addEventListener('click', function(){ 
      document.getElementById('site-nav').classList.remove('nav-open');
      subpageNav.classList.toggle('nav-open');
 });
})();
</script>

      </div>
  </div></div>


 <!-- footer from footer html -->
 <footer>

    <!-- The Modal -->
<div id="copyright-modal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <p>
        Copyright © 2021 HCL - August, 2020 - All rights reserved.
      </p>
      <p>This document contains information proprietary to HCL., is bound by the HCL license agreements, and may not be used except in the context of understanding the use and methods of HCL., software without prior, express, written permission. HCL, Empowering Everywhere, HCL Foundry, HCL Flare, and HCL Iris are trademarks of HCL. MobileFoundry is a registered trademark of HCL. Microsoft, the Microsoft logo, Internet Explorer, Windows, and Windows Vista are registered trademarks of Microsoft Corporation. Apple, the Apple logo, iTunes, iPhone, iPad, OS X, Objective-C, Safari, Apple Pay, Apple Watch, and Xcode are trademarks or registered trademarks of Apple, Inc. Google, the Google logo, Android, and the Android logo are registered trademarks of Google, Inc. Chrome is a trademark of Google, Inc. BlackBerry, PlayBook, Research in Motion, and RIM are registered trademarks of BlackBerry. SAP® and SAP® Business Suite® are registered trademarks of SAP SE in Germany and in several other countries. All other terms, trademarks, or service marks mentioned in this document have been capitalized and are to be considered the property of their respective owners.</p>
    </div>
  
  </div>
    <div class="foot-wrap">
        <div class="foot-nav">
            &copy; <a href="#" id="copyrightBtn">Copyright</a> 2021 HCL Technologies Limited. 
            <a href="https://hcltechsw.com/wps/portal/legal/privacy" style="margin-left: 10px;">Privacy Statement</a> | <a href="#">Terms of Use</a>
        </div>
        <ul class="social-nav">
            <li><a href="#" class="facebook">Facebook</a></li>
            <li><a href="#" class="linkedin">LinkedIn</a></li>
            <li><a href="#" class="twitter">Twitter</a></li>
            <li><a href="#" class="youtube">Youtube</a></li>
            <li><a href="#" class="glassdoor">Glassdoor</a></li>
        </ul>
    </div>

    
</footer>
<script>
    var modal = document.getElementById("copyright-modal");

// Get the button that opens the modal
var btn = document.getElementById("copyrightBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on the button, open the modal
btn.onclick = function(e) {
    e.preventDefault();
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
  document.querySelector("span.close").onclick = function() {
  modal.style.display = "none";
}
document.onkeydown = function(evt) {
    evt = evt || window.event;
    if (evt.keyCode == 27) {
      modal.style.display = "none";
    }
};
// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}


</script>
</body>
</html>
