<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  

  <link rel="shortcut icon" href="/volt-mx-docs/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/volt-mx-docs/assets/css/just-the-docs-default.css">
  <link rel="stylesheet" href="/volt-mx-docs/assets/css/custom.css">
  

  
    <script type="text/javascript" src="/volt-mx-docs/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/volt-mx-docs/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>VoltMx | Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="VoltMx" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<meta property="og:description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<link rel="canonical" href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmx_foundry_user_guide/Content/ObjectsServices/ObjectservicesMapper.html" />
<meta property="og:url" content="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmx_foundry_user_guide/Content/ObjectsServices/ObjectservicesMapper.html" />
<meta property="og:site_name" content="VoltMx" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="VoltMx" />
<script type="application/ld+json">
{"url":"https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmx_foundry_user_guide/Content/ObjectsServices/ObjectservicesMapper.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://hcl-tech-software.github.io/volt-mx-docs/Volt_Mx_logo.png"}},"headline":"VoltMx","description":"Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-search" viewBox="0 0 24 24">
    <title>Search</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
      <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
  </symbol>
</svg>

<div class="header-wrap">
  
  <div class="top-header">
    <div class="site-header">
      <a href="https://hcl-tech-software.github.io/volt-mx-docs/" class="site-title lh-tight">
  <div class="site-logo"></div>

</a>
      <a href="#" id="mainmenu-button"  class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
  </div>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div id="main-header" class="main-header">
  
   
   <!-- <div class="search-prepare" id="search-prepare">
    <p><img src=" /volt-mx-docs/assets/images/preload.gif" style="height: 24px; width: 24px; margin-right: 5px;" /> Preparing your search results...</p>
  </div>  -->
     <div class="search">
    
       <div class="search-input-wrap">
         <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="search resources..." aria-label="Search VoltMx" autocomplete="off">
         <label for="search-input" class="search-label" id="searchButton"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
                 </div>
                        
       <div id="search-results" class="search-results"></div>

       
     </div>
   
   <ul class="page-nav" id="page-nav">
    <li><a href="#">Community</a></li>
    <li><a href="#" class="active">Learn</a></li>
    <li><a href="#">Releases</a></li>
    <li><a href="#">Training</a></li>
    <li><a href="#">Ideas</a></li>
    <li><a href="#">Marketplace</a></li>
    <li><a href="#">Login</a></li>
  </ul>
  

  
 </div>
 <script>
   const pageNav = document.getElementById('page-nav');
    const mainHeader = document.getElementById('main-header');
    const mainmenuButton = document.getElementById('mainmenu-button');
  (function(){
   
   mainmenuButton.addEventListener('click', function(){
     pageNav.classList.toggle('nav-open');
});
})();

</script>
  <div class="sub-nav-wrap" id="myDIV">
    <ul class="sub-nav" >
        <li >
            <a href="/volt-mx-docs/docs/getting-started/"  class="sub-link">Getting Started</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/tutorials/" class="sub-link">Tutorials</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/documentation/" class="sub-link">Documentation</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/articles/" title="test" class="sub-link">Articles</a>
        </li>
    </ul>
    <a href="#" id="menu-button" class="site-button">
        <!-- <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> -->
        select a topic <svg viewBox="0 0 24 24" class="carat-topic"><use xlink:href="#svg-arrow-right"></use></svg>
      </a>
</div>
</div> 

<style>
  .sub-nav a[href*="/documentation/"] {
   border-bottom: 3px #d694f9 solid;
}
</style>

<div class="content-wrap">
  <div class="side-bar scrollable-container">
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav scrollable">
      <ul class="nav-list"><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_rel_notes/Content/Common/copyright.html" class="nav-list-link">copyright</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmx_foundry_release_notes/Content/Common/copyrightOld.html" class="nav-list-link">copyrightOld</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_rel_notes/Content/Common/glossary.html" class="nav-list-link">Glossary</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_rel_notes/Content/Common/home.html" class="nav-list-link">home</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmx_appfactory_user_guide/Content/Known_Issues.html" class="nav-list-link">Known Issues in HCL App Factory</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmx_Foundry_deployment_guide/Content/FAQs.html" class="nav-list-link">This topic describes how to control access to VoltMX Foundry applications and services. This topic is part of the VoltMX Foundry Console User Guide.</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Iris/iris_starter_install_mac/Content/Getting%20Started.html" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/fundamentals.html" class="nav-list-link">Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/projectorg.html" class="nav-list-link">Project Organization</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appUserInterface.html" class="nav-list-link">App User Interface</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/widgetApiReference.html" class="nav-list-link">Widgets & API Reference</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/webAppDevelopment.html" class="nav-list-link">Web App Development</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataBackEndIntergration.html" class="nav-list-link">Data & Back-end Integration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/buildAndPublish.html" class="nav-list-link">Build and Publish</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/extensibility.html" class="nav-list-link">Extensibility</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/security.html" class="nav-list-link">Security</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/howTosSampleApps.html" class="nav-list-link">How Tos & Sample Apps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataIntegrationServices.html" class="nav-list-link">Data Integration Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/offlineObjects.html" class="nav-list-link">Offline Objects</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/apiMangement.html" class="nav-list-link">API Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appServicesAdminitration.html" class="nav-list-link">App Services Administration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/advancedServerFeature.html" class="nav-list-link">Advanced Server Features</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/analyticsAndApm.html" class="nav-list-link">Analytics and APM</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/engagementServices.html" class="nav-list-link">Engagement Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/quantumSync.html" class="nav-list-link">VoltMX Sync (Legacy)</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/devOps.html" class="nav-list-link">DevOps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/heradlessAndContinuousIntegration.html" class="nav-list-link">Headless and Continuous Integration Build</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/installationManagement.html" class="nav-list-link">Installation & Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/deployment.html" class="nav-list-link">Deployment</a></li></ul>
    </nav>
  
  </div>
  
    <div class="main scrollable-container" id="top">
      
      <div id="main-content-wrap" class="main-content-wrap scrollable">
        
          
        
        <div id="main-content" class="main-content" role="main">
          
            <p>User Guide: <a href="../Objectservices.html">Object Services</a> &gt; <a href="Objectservices_Stage3.html">Stage 3: Mapping Operations to Back-end Methods</a> &gt; Enhancing the Mapping by using XML Mapper for Advanced Scenarios</p>
      <h2 id="enhancing-the-mapping-by-using-xml-mapper-for-advanced-scenarios">
        
        
          <a href="#enhancing-the-mapping-by-using-xml-mapper-for-advanced-scenarios" class="anchor-heading" aria-labelledby="enhancing-the-mapping-by-using-xml-mapper-for-advanced-scenarios"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Enhancing the Mapping by using XML Mapper for Advanced Scenarios
        
        
      </h2>
    

<p>The core mapper engine is integrated into the Object Services pipeline. The mapper is an engine that logically takes in JSON, by using the declarative XML that it is passed, modifies the JSON, and creates nodes in the JSON and updates existing nodes.</p>

<p>For the request that is coming in to the mapper, after basic URL parsing and ODATA parsing are performed, all the context is made available to the request mapper. The request mapper modifies the payload and sends it into the next stage of the pipeline, which goes to the back end, typically by using an integration connector.</p>

<p>After the response is picked up, the whole context is made available to the response mapper. The Response mapper makes changes to the data, and outputs the data after some formatting. The internal mapper logic is the same for both the input and output pipelines, but the context that is made available to the mapper changes.</p>

<p>The following diagram shows the Object Services pipeline.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmx_foundry_user_guide/Content/Resources/Images/ObjectSrvcMapperPipeline_695x279.png" alt="" /></p>
      <h3 id="request-mapper">
        
        
          <a href="#request-mapper" class="anchor-heading" aria-labelledby="request-mapper"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Request Mapper
        
        
      </h3>
    

<p>On the input, when the mapper is applied, it is equivalent to the following.</p>

<p>mapper(“input mapper xml”, $current_input = data)</p>

<p>The $data is logically a blob with all the context made available to the mapper. You are passing in transformational XML to run on the current input. The mapper input can access any of the data that is passed to it.</p>

<p><strong>request_in :</strong> Read-only, input payload JSON from API request.</p>

<p><strong>request_out :</strong> Read-write, (a copy of input payload), transformed JSON that is sent to next stage.</p>

<p><strong>vars :</strong> Empty. This is referenced using $vars and is used by mapper XML as a global variable store</p>

<ul>
  <li>For more details, refer <a href="#Mapping-SimpleMapping">Simple Mapping example</a></li>
</ul>
      <h3 id="response-mapper">
        
        
          <a href="#response-mapper" class="anchor-heading" aria-labelledby="response-mapper"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Mapper
        
        
      </h3>
    

<p>On the output, when the mapper is applied, it is equivalent to the following.</p>

<p>mapper(“output mapper xml”, $current_input = data)</p>

<p>The $data is logically a blob with all the context made available to the mapper.</p>

<p><strong>response_in :</strong> Response from back end logically represented as JSON.</p>

<p><strong>response_out :</strong> Transformed JSON using the XML mapper sent in the “records” field of the API response.</p>

<p><strong>vars :</strong> Empty. This is referenced using $vars and is used by mapper XML as a global variable store.</p>

<ul>
  <li>For more details, refer <a href="#Mapping-SimpleMapping">Simple Mapping example</a></li>
</ul>
      <h2 id="mapper-elements">
        
        
          <a href="#mapper-elements" class="anchor-heading" aria-labelledby="mapper-elements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mapper Elements
        
        
      </h2>
    

<p>The mapper includes the following built-in variables, built-in functions, and blocks.</p>

<p>Built-in Variables</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx"> **a/b/c**   /\* An input path of a.b.c in the given object \*/  
**../b**      /\* inputpath = "b" on $current-input.getParent() \*/  
 **$current-input** /\* Input instance of current map block \*/  
 **$current-output** /\* Output instance of current map block \*/  
 **$mapper-input** /\* Mapper instance’s global input \*/  
 **$mapper-output**  /\* Mapper instance’s global output \*/  
 **$vars/x** /\* Variables are stored in this hash.  All variables are GLOBAL \*/  
 **$args/&lt;arg name&gt;** /\* Arguments passed to a function \*/</code></pre>
</figure>

<p>On a function call, by default, <code class="language-plaintext highlighter-rouge">$args.current-input</code> is set to <code class="language-plaintext highlighter-rouge">$current-input</code>, and <code class="language-plaintext highlighter-rouge">$args.current-output</code> is set to <code class="language-plaintext highlighter-rouge">$current-output</code>.</p>

<p><code class="language-plaintext highlighter-rouge">`input="myinput" inputpath="firstname"`</code> is equivalent to <code class="language-plaintext highlighter-rouge">$myinput["firstname"]</code></p>

<p><code class="language-plaintext highlighter-rouge">inputpath="firstname"</code> is equivalent to <code class="language-plaintext highlighter-rouge">$current-input["firstname"]</code></p>

<p><code class="language-plaintext highlighter-rouge">Input="3" /* not starting with a $, it is constant value. To use $ as a constant, use the escape character, for example, "\$".*/</code></p>

<p><code class="language-plaintext highlighter-rouge">output="$myoutput" outputpath="lastname"</code> is equivalent to <code class="language-plaintext highlighter-rouge">$myoutput["lastname"]</code></p>

<p>Built-in functions</p>

<p>The VoltMX namespace contains a number of built-in functions that you can use with the mapper. The built-in functions are:</p>

<ul>
  <li>equal</li>
  <li>concat</li>
  <li>substringBefore</li>
  <li>substringAfter</li>
  <li>choose-when-otherwise</li>
  <li>random</li>
  <li>min</li>
  <li>max</li>
  <li>sum</li>
</ul>

<blockquote>
  <p><strong><em>Note:</em></strong> The VoltMX namespace is reserved for VoltMX-defined functions only. User-defined functions cannot use the VoltMX namespace.</p>
</blockquote>

<p>Blocks</p>

<p>The following table describes the blocks available:</p>

<table>
  <thead>
    <tr>
      <th>Block</th>
      <th>Description</th>
      <th>Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>map</strong></td>
      <td>This is the main block in mapper.</td>
      <td>&lt;p&gt; &lt;map inputpath=”x/y/z” input=”$current-input”<br /> outputpath=”x” output=”$current-output”&gt;<br />&lt;/map&gt;</td>
    </tr>
    <tr>
      <td><strong>set-param</strong></td>
      <td>Sets an output parameter from input.</td>
      <td>&lt;p&gt; &lt;set-param <br /> inputpath=”x/y/z” input=”$current-input”<br /> outputpath=”x” output=”$current-output” /&gt;<br />Output.outputpath=input.inputpath</td>
    </tr>
    <tr>
      <td><strong>set-arg</strong></td>
      <td>Variant of set-param to set the argument of a function.</td>
      <td>&lt;p&gt; &lt;set-arg <br />name=”x”<br /> inputpath=”x/y/z” input=”$current-input”<br /> /&gt; &lt;p&gt;is a shortcut for the following:&lt;/p&gt;&lt;p&gt; &lt;set-param <br /> inputpath=”x/y/z” input=”$current-input” <br />outputpath=”x” output=”$args” /&gt;</td>
    </tr>
    <tr>
      <td><strong>set-variable</strong></td>
      <td>Variant of set-param to define and set a global variable.</td>
      <td>&lt;p&gt; &lt;set-variable <br />name=”x” <br /> inputpath=”x/y/z” input=”$current-input”<br /> /&gt; &lt;p&gt;is a shortcut for the following:&lt;/p&gt;&lt;p&gt; &lt;set-param <br /> inputpath=”x/y/z” input=”$current-input” <br />outputpath=”x” output=”$vars” /&gt;</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><strong>exec-function</strong></td>
      <td>&lt;p&gt;Execute function.&lt;/p&gt; &lt;p&gt;The return value of exec-function is written to the output/outputpath attributes of exec-function.&lt;/p&gt;</td>
      <td>&lt;p&gt; &lt;map inputpath="contact" outputpath="contact"&gt; <br /><exec-function name="contact-field-map"> <br />/\* input is set to $current-input and output is set to $current-output by default \*/ <br /></exec-function>/ <br />&lt;/map&gt;<br />/* Complex */ <br />&lt;map inputpath="contact" outputpath="contact" output="$current-output" &gt; <br /><exec-function name="field-map" outputpath="myresult" output="$vars"> <br /><set-arg name="a" inputpath="firstname" input="$current-input"> <br /><set-arg name="b" input="3"> <br />&lt;/exec-function&gt; <br />&lt;/map&gt;<br />$vars\[myresult\] = field-map({a: "$current-input" \["firstname"\], b: "3" })</set-arg></set-arg></exec-function></td>
    </tr>
    <tr>
      <td><strong>choose-when-otherwise</strong></td>
      <td>When a “test” condition evaluates to true, then the “when” block is executed. If the “test” condition evaluates to false the “otherwise” block is executed.</td>
      <td>&lt;p&gt; <choose><br /> <when test="$vars/NTFCondition"><br />...<br /> </when><br /> <when test="$vars/CONCondition"><br />...<br /> </when><br /> <otherwise><br /> ...<br /> </otherwise><br /></choose></td>
    </tr>
    <tr>
      <td><strong>Create-lookup</strong></td>
      <td>Create-lookup loops on the inputpath array and creates a hashmap with a lookup-key parameter as key and value as “Node” object refers to corresponding customer row of the input object.</td>
      <td>&lt;p&gt; &lt;create-lookup inputpath=”Customers” output=”$vars” ouputpath=”customerMap”&gt; &lt;lookup-key inputpath=”Id”/&gt; &lt;/create-lookup&gt;</td>
    </tr>
    <tr>
      <td><strong>Lookup</strong></td>
      <td>Retrieves the “Node” object from the hashmap and makes it available in the output.</td>
      <td>&lt;p&gt; &lt;lookup input=”$vars” inputpath=”customerMap” outputpath=”customerRef” output=”$vars”&gt; &lt;lookup-key inputpath=”CustomerId”/&gt; &lt;/lookup&gt;</td>
    </tr>
    <tr>
      <td><strong>Create-group</strong></td>
      <td>Create-group generates an aggregate group of objects based on a key designated by the group-key block. Each object is contains multiple entries. Each entry is a key/value pair.</td>
      <td>&lt;p&gt; &lt;create-group inputpath=”Time_Entry” output=”$vars” ouputpath=”customerMap”&gt; &lt;group-key inputpath=”Timesheet_Id”/&gt; &lt;/create-group&gt;</td>
    </tr>
    <tr>
      <td><strong>Group-key</strong></td>
      <td>Key used to group items for aggregation.</td>
      <td>&lt;p&gt; &lt;group-key inputpath=”Timesheet_Id”/&gt;</td>
    </tr>
    <tr>
      <td>&lt;p&gt;javascript  &lt;/p&gt;</td>
      <td>&lt;p&gt;JavaScript element must occur one time only as a child element to the Function element. &lt;/p&gt; &lt;p&gt;Then name of outputpath attribute represents a field in the app data model. &lt;/p&gt;</td>
      <td>&lt;p&gt; <function name="NameConcat"> <javascript outputpath="FullName"> <set-arg name="firstName" inputpath="FirstName"></set-arg> <set-arg name="middleName" inputpath="MiddleName"></set-arg> <set-arg name="lastName" inputpath="LastName"></set-arg> <br /><script> You logic goes here.....<br /><br /> </script> </javascript> </function></td>
    </tr>
    <tr>
      <td><strong>script</strong></td>
      <td>The Script element is a required child element in a JavaScript element. It must occur one time only. The JavaScript snippet should be written in <strong>CDATA</strong> section of this element.</td>
      <td>&lt;p&gt; <script> &lt;!\[CDATA\[ function concat(){ var result = firstName+’ ‘+ middleName + ’ ‘+lastName.substring(0, 1).toUpperCase() + '. ' return result; } concat(); \]\]&gt; </script></td>
    </tr>
  </tbody>
</table>
      <h3 id="example-mapper-structure">
        
        
          <a href="#example-mapper-structure" class="anchor-heading" aria-labelledby="example-mapper-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example: Mapper Structure
        
        
      </h3>
    

<p>The following example shows the structure of the mapper in declarative XML.</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx"> &lt;mapper xmlns="http://www.voltmx.com/ns/mapper"&gt;  /\* root element \*/  
&lt;function name="field-map-a2b"&gt; /\* Function definitions \*/  
&lt;set-param /&gt;  
&lt;map input= output= inputpath= outputpath=&gt;&lt;/map&gt;  
&lt;/function&gt;  
&lt;map input= output= inputpath= outputpath=&gt; /\* Mapper blocks \*/  
&lt;set-param input= inputpath= output= outputpath = /&gt;  
&lt;set-variable input= inputpath= output= outputpath=  /&gt;  
&lt;exec-function name="field-map-a2b"&gt;  
&lt;set-arg /&gt;  
&lt;/exec-function&gt;  
&lt;/map&gt;  
&lt;map&gt; &lt;/map&gt;  /\* another map node \*/  
&lt;/mapper&gt;</code></pre>
</figure>
      <h3 id="example-simple-mapping">
        
        
          <a href="#example-simple-mapping" class="anchor-heading" aria-labelledby="example-simple-mapping"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example: Simple Mapping
        
        
      </h3>
    

<p>In this simple mapping example, the input is a list of records under A, and each record has P1 and P2 fields that we want to output to the API response by transforming P1 to Q1 and P2 to Q2.</p>

<p>The back end is returning columns by the name P1 and P2, where the object on the client side has fields named Q1 and Q2. For example, the backend could be returning FName and LName, and these are mapped to fields with more friendly names on the client side, Firstname and Lastname. The mapper, in each of the records it gets, picks up the value of P1, put it into a key of Q1 in the output.</p>

<p>The mapper is output-driven, so in the output, choose a path with the name A (outputpath=”A”), and set up a parameter Q1 in output (set-param outputpath=”Q1” inputpath=”P1”), by taking the value from P1 from the input from a path with the name A (inputpath=”A”).</p>

<p>Input</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx"> {  
"A": \[  
{  
 "P1": "value1",  
 "P2": "value2"  
}  
\]  
}</code></pre>
</figure>

<p>Output</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx">{  
"A": \[  
{  
 "Q1": "value1",  
 "Q2": "value2"  
}  
\]  
}</code></pre>
</figure>

<p>Mapping</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx"> &lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;  
&lt;mapper xmlns="http://www.voltmx.com/ns/mapper"&gt;  
//"The following map tag for response or request"//  
&lt;map inputpath="response\_in" outputpath="response\_out"&gt;  
&lt;map outputpath="A" inputpath="A"&gt;  
&lt;set-param outputpath="Q1" inputpath="P1" /&gt;  
&lt;set-param outputpath="Q2" inputpath="P2" /&gt;  
&lt;/map&gt;  
&lt;/mapper&gt;</code></pre>
</figure>
      <h2 id="identity-support-in-mapper">
        
        
          <a href="#identity-support-in-mapper" class="anchor-heading" aria-labelledby="identity-support-in-mapper"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Identity Support in Mapper
        
        
      </h2>
    

<p>The mapper can access identity security or profile attributes if they are needed by your service. For example, your service requires an input parameter that is available from the identity profile attribute.</p>

<p>To use identity support, follow these guidelines:</p>

<ul>
  <li>The inputpath should be defined in the format “identity/_<IdentityProviderName>_/_&lt;Security\_Or\_Profile&gt;_/_<token name="">_ "</token></IdentityProviderName></li>
  <li>In the defined structure, you must select either security or profile, depending on the specific identity token type that you want.</li>
  <li>Input should be defined as “$mapper-input”, which points to the mapper input node.</li>
</ul>
      <h3 id="example-accessing-the-identity-profile-attribute">
        
        
          <a href="#example-accessing-the-identity-profile-attribute" class="anchor-heading" aria-labelledby="example-accessing-the-identity-profile-attribute"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example: Accessing the Identity Profile Attribute
        
        
      </h3>
    

<p>The following example shows how to access the identity profile attribute using the mapper. The example is a request mapper that retrieves the value for the “PRODUCT” parameter from the “user_id” token of the “SAPIdentity” identity provider.</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx"> &lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;  
&lt;mapper xmlns="http://www.voltmx.com/ns/mapper"&gt;  
&lt;map inputpath="request\_in" outputpath="request\_out"&gt;  
&lt;set-param inputpath="identity/SAPIdentity/profile/user\_id" input="$mapper-input"    outputpath = "PRODUCT "/&gt;  
&lt;/map&gt;  
&lt;/mapper&gt;</code></pre>
</figure>
      <h3 id="example-accessing-the-identity-security-attribute">
        
        
          <a href="#example-accessing-the-identity-security-attribute" class="anchor-heading" aria-labelledby="example-accessing-the-identity-security-attribute"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example: Accessing the Identity Security Attribute
        
        
      </h3>
    

<p>The following example shows how to access the identity security attribute using the mapper. In this example, an identity security attribute value is mapped to a result parameter named “SAP-Session-Key-Value”.</p>

<figure class="highlight">
  <pre><code class="language-voltmx" data-lang="voltmx"> &lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;  
&lt;mapper xmlns="http://www.voltmx.com/ns/mapper"&gt;  
&lt;map inputpath="request\_in" outputpath="request\_out"&gt;  
&lt;set-param inputpath="identity/SAPIdentity/profile/user\_id" input="$mapper-input"    outputpath = "PRODUCT "/&gt;  
&lt;/map&gt;  
&lt;/mapper&gt;&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;  
&lt;mapper xmlns="http://www.voltmx.com/ns/mapper"&gt;  
&lt;map inputpath="response\_in" outputpath="response\_out"&gt;  
&lt;map inputpath="Sample\_Object" outputpath="Sample\_Object"&gt;  
&lt;set-param inputpath="identity/SAPIdentity/security/VoltMXSAP-Session-Key" input="$mapper-input" outputpath="SAP-Session-Key-Value"/&gt;  
&lt;/map&gt;  
&lt;/map&gt;  
&lt;/mapper&gt;</code></pre>
</figure>

<p>For more details on enhanced identity data-filtering, refer <a href="ObjectservicesEnhancedIdentity.html">Enhanced Identity support in Object Services</a></p>

          
  
          
  
          
          
           
              <!--<p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 HCL Digital Solutions</p>-->

  
              
                <div class="d-flex mt-2">
                  
                  
                </div>
              
            </footer>
          
  
        </div>
      </div>
  
      
        
  
        <div class="search-overlay"></div>
      
  
      
    </div>
  
    
    <div class="right-menu scrollable-container" >
      <div class="scrollable">
        
<nav role="navigation" aria-label="Main" id="sub-site-nav" class="site-nav" >
<ul class="nav-list">
  
</ul>

</nav>

    <script>
     const subpageNav = document.getElementById('sub-site-nav');
     const submainmenuButton = document.getElementById('sub-menu-button');
    
   (function(){
    submainmenuButton.addEventListener('click', function(){ 
      document.getElementById('site-nav').classList.remove('nav-open');
      subpageNav.classList.toggle('nav-open');
 });
})();
</script>

      </div>
  </div></div>


 <!-- footer from footer html -->
 <footer>

    <!-- The Modal -->
<div id="copyright-modal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <p>
        Copyright © 2021 HCL - August, 2020 - All rights reserved.
      </p>
      <p>This document contains information proprietary to HCL., is bound by the HCL license agreements, and may not be used except in the context of understanding the use and methods of HCL., software without prior, express, written permission. HCL, Empowering Everywhere, HCL Foundry, HCL Flare, and HCL Iris are trademarks of HCL. MobileFoundry is a registered trademark of HCL. Microsoft, the Microsoft logo, Internet Explorer, Windows, and Windows Vista are registered trademarks of Microsoft Corporation. Apple, the Apple logo, iTunes, iPhone, iPad, OS X, Objective-C, Safari, Apple Pay, Apple Watch, and Xcode are trademarks or registered trademarks of Apple, Inc. Google, the Google logo, Android, and the Android logo are registered trademarks of Google, Inc. Chrome is a trademark of Google, Inc. BlackBerry, PlayBook, Research in Motion, and RIM are registered trademarks of BlackBerry. SAP® and SAP® Business Suite® are registered trademarks of SAP SE in Germany and in several other countries. All other terms, trademarks, or service marks mentioned in this document have been capitalized and are to be considered the property of their respective owners.</p>
    </div>
  
  </div>
    <div class="foot-wrap">
        <div class="foot-nav">
            &copy; <a href="#" id="copyrightBtn">Copyright</a> 2021 HCL Technologies Limited. 
            <a href="https://hcltechsw.com/wps/portal/legal/privacy" style="margin-left: 10px;">Privacy Statement</a> | <a href="#">Terms of Use</a>
        </div>
        <ul class="social-nav">
            <li><a href="#" class="facebook">Facebook</a></li>
            <li><a href="#" class="linkedin">LinkedIn</a></li>
            <li><a href="#" class="twitter">Twitter</a></li>
            <li><a href="#" class="youtube">Youtube</a></li>
            <li><a href="#" class="glassdoor">Glassdoor</a></li>
        </ul>
    </div>

    
</footer>
<script>
    var modal = document.getElementById("copyright-modal");

// Get the button that opens the modal
var btn = document.getElementById("copyrightBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on the button, open the modal
btn.onclick = function(e) {
    e.preventDefault();
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
  document.querySelector("span.close").onclick = function() {
  modal.style.display = "none";
}
document.onkeydown = function(evt) {
    evt = evt || window.event;
    if (evt.keyCode == 27) {
      modal.style.display = "none";
    }
};
// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}


</script>
</body>
</html>
