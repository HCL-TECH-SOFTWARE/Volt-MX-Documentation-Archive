<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Offlineobjectsetup | Your awesome title</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Offlineobjectsetup" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Open topic with navigation" />
<meta property="og:description" content="Open topic with navigation" />
<link rel="canonical" href="https://github.com/pages/HCL-TECH-SOFTWARE/volt-mx-docs/2016/05/25/OfflineObjectSetup.html" />
<meta property="og:url" content="https://github.com/pages/HCL-TECH-SOFTWARE/volt-mx-docs/2016/05/25/OfflineObjectSetup.html" />
<meta property="og:site_name" content="Your awesome title" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-05-25T00:00:00+05:30" />
<script type="application/ld+json">
{"url":"https://github.com/pages/HCL-TECH-SOFTWARE/volt-mx-docs/2016/05/25/OfflineObjectSetup.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://github.com/pages/HCL-TECH-SOFTWARE/volt-mx-docs/2016/05/25/OfflineObjectSetup.html"},"headline":"Offlineobjectsetup","dateModified":"2016-05-25T00:00:00+05:30","datePublished":"2016-05-25T00:00:00+05:30","description":"Open topic with navigation","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/pages/HCL-TECH-SOFTWARE/volt-mx-docs/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://github.com/pages/HCL-TECH-SOFTWARE/volt-mx-docs/feed.xml" title="Your awesome title" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/pages/HCL-TECH-SOFTWARE/volt-mx-docs/">Your awesome title</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/pages/HCL-TECH-SOFTWARE/volt-mx-docs/2021-02-01-Animation.html">Widget Level Animation Using Flex Forms</a><a class="page-link" href="/pages/HCL-TECH-SOFTWARE/volt-mx-docs/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Offlineobjectsetup</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2016-05-25T00:00:00+05:30" itemprop="datePublished">May 25, 2016
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="../Default.htm#OfflineObjectSetup.htm">Open topic with navigation</a></p>

<p><img src="Resources/prettify/onLoad.png" alt="" /></p>

<p>Quantum Fabric console User Guide: <a href="Application_Level_APIs.htm">Application-level APIs</a> &gt; KNYMobileFabric.OfflineObjects.setup</p>

<h1 id="knymobilefabricofflineobjectssetup">KNYMobileFabric.OfflineObjects.setup</h1>

<p>Offline Objects setup function initializes the creation of device database and sync environment. After the setup is successful, the database structure is created without any data in the device database. After the client database is created, subsequent calls to KNYMobileFabric.OfflineObjects setup initializes the sync environment.</p>

<p>Before performing any offline operation other than drop or reset, invoke either <strong>setup()</strong> or <strong>incrementalSetup()</strong> API.</p>

<p><strong><em>Note:</em></strong> Initial setup (launching after first time installation (after drop or reset)) requires network connection. Subsequent setups can initialize offline environment without network connectivity.</p>

<h2 id="quantum-visualizer-javascript">Quantum Visualizer (JavaScript)</h2>

<h3 id="signature">Signature</h3>

<p>KNYMobileFabric.OfflineObjects.setup(options, successCallback, failureCallback)</p>

<h3 id="input-parameters">Input Parameters</h3>

<table style="mc-table-style: url('Resources/TableStyles/Basic.css');margin-left: 0;margin-right: auto;width: 100%;" class="TableStyle-Basic" cellspacing="0"><colgroup><col class="TableStyle-Basic-Column-Column1" /> <col class="TableStyle-Basic-Column-Column1" style="width: 64px;" /> <col class="TableStyle-Basic-Column-Column1" /> <col class="TableStyle-Basic-Column-Column1" /></colgroup><tbody><tr class="TableStyle-Basic-Body-Body1"><td style="font-weight: bold;" class="TableStyle-Basic-BodyE-Column1-Body1">Parameter</td><td class="TableStyle-Basic-BodyE-Column1-Body1" style="font-weight: bold;">Type</td><td style="font-weight: bold;" class="TableStyle-Basic-BodyE-Column1-Body1">Description</td><td class="TableStyle-Basic-BodyD-Column1-Body1" style="font-weight: bold;">Required</td></tr><tr class="TableStyle-Basic-Body-Body1"><td style="font-weight: normal;" class="TableStyle-Basic-BodyE-Column1-Body1">options</td><td class="TableStyle-Basic-BodyE-Column1-Body1" style="font-weight: normal;">JSON</td><td style="font-weight: normal;" class="TableStyle-Basic-BodyE-Column1-Body1">Setup options such as device database, encryption passphrase and so on.</td><td class="TableStyle-Basic-BodyD-Column1-Body1" style="font-weight: normal;">Yes</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyE-Column1-Body1">successCallback</td><td class="TableStyle-Basic-BodyE-Column1-Body1">Function</td><td class="TableStyle-Basic-BodyE-Column1-Body1">The function is invoked on successful setup.</td><td class="TableStyle-Basic-BodyD-Column1-Body1">Yes</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyB-Column1-Body1">failureCallback</td><td class="TableStyle-Basic-BodyB-Column1-Body1">Function</td><td class="TableStyle-Basic-BodyB-Column1-Body1">The function is invoked on setup failure with the cause of failure as an argument.</td><td class="TableStyle-Basic-BodyA-Column1-Body1" style="font-weight: normal;">Yes</td></tr></tbody></table>

<h4 id="setup-options">Setup Options</h4>

<p>| Option | Type | Description | Required |
| — | — | — | — |
| deviceDbEncryptionKey | String | 
Encryption passphrase must be a string with at least six characters long. For more information, refer to <a href="http://docs.kony.com/konylibrary/konyfabric/offline_objects_gettingstarted/Default.htm">Offline Objects Getting Started Guide</a>.</p>

<p><strong><em>Note:</em></strong> Not applicable for Mobile Web and Desktop Web channels.</p>

<table>
  <tbody>
    <tr>
      <td>No</td>
      <td> </td>
    </tr>
    <tr>
      <td>deviceDbPath</td>
      <td>String</td>
    </tr>
  </tbody>
</table>

<p>Device database is created at the given deviceDbPath location.</p>

<p>The default Offline Objects database path for Windows Kiosk applications is <code class="language-plaintext highlighter-rouge">C:\Users\User\AppData\Local</code>. You can use the deviceDbPath option to override the default path. This options helps you to install more than one Offline enabled application by using the Offline Objects database at desired location.</p>

<p><strong><em>Note:</em></strong> This parameter is supported only for Windows Kiosk applications from V8 SP4 Fix Pack 44 onwards.</p>

<p><strong><em>Important:</em></strong> The default Offline Objects database location for Windows Kiosk has been changed from <code class="language-plaintext highlighter-rouge">C:\Users\User\AppData\Local</code> to <code class="language-plaintext highlighter-rouge">C:\Users\User\AppData\Local\AppID\Database</code> from V8 SP4 Fix Pack 44. This impacts application upgrades that were built with the earlier versions of plugin</p>

<p>To retain the existing Offline Objects database, rebuild the Kiosk application with the deviceDbPath option and pass the <strong>C:\Users\User\AppData\Local</strong> location as an input to the setup, reset, and drop APIs.</p>

<table>
  <tbody>
    <tr>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h3 id="return-type">Return Type</h3>

<p>void</p>

<h3 id="error-codes">Error Codes</h3>

<table style="mc-table-style: url('Resources/TableStyles/Basic.css');border-top-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-bottom-left-radius: 0px;border-left-style: solid;border-left-width: 2px;border-left-color: #a9a9a9;border-right-style: solid;border-right-width: 2px;border-right-color: #a9a9a9;border-top-style: solid;border-top-width: 2px;border-top-color: #a9a9a9;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #a9a9a9;margin-left: 0;margin-right: auto;" class="TableStyle-Basic" cellspacing="0"><colgroup><col class="TableStyle-Basic-Column-Column1" /> <col class="TableStyle-Basic-Column-Column1" /></colgroup><tbody><tr class="TableStyle-Basic-Body-Body1"><td style="font-weight: bold;" class="TableStyle-Basic-BodyE-Column1-Body1">Error Code</td><td style="font-weight: bold;" class="TableStyle-Basic-BodyD-Column1-Body1">Error Text</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyB-Column1-Body1">106</td><td class="TableStyle-Basic-BodyA-Column1-Body1">Claims token is unavailable.</td></tr></tbody></table>

<h3 id="example">Example</h3>

<p>function successCallback(status) {
    kony.print(“Application setup successful”);
}</p>

<p>function failureCallback(error) {
    kony.print(“Application setup failed with error:” + error.code);
}
//Encrypt the device database using a passphrase
var options = {
    “deviceDbEncryptionKey”: “myencryptionpa$$phrase1”
};
KNYMobileFabric.OfflineObjects.setup(options, successCallback, failureCallback);</p>

<h2 id="android-java">Android (Java)</h2>

<h3 id="signature-1">Signature</h3>

<p>void <OfflineObjects>.setup(final HashMap&lt;String, object&gt; options, final KNYCallback callback)</OfflineObjects></p>

<h3 id="parameters">Parameters</h3>

<table style="mc-table-style: url('Resources/TableStyles/Basic.css');margin-left: 0;margin-right: auto;width: 100%;" class="TableStyle-Basic" cellspacing="0"><colgroup><col class="TableStyle-Basic-Column-Column1" /> <col class="TableStyle-Basic-Column-Column1" style="width: 62px;" /> <col class="TableStyle-Basic-Column-Column1" style="width: 270px;" /> <col class="TableStyle-Basic-Column-Column1" /></colgroup><tbody><tr class="TableStyle-Basic-Body-Body1"><td style="font-weight: bold;" class="TableStyle-Basic-BodyE-Column1-Body1">Parameter</td><td class="TableStyle-Basic-BodyE-Column1-Body1"><b>Type</b></td><td style="font-weight: bold;" class="TableStyle-Basic-BodyE-Column1-Body1">Description</td><td class="TableStyle-Basic-BodyD-Column1-Body1" style="font-weight: bold;">Required</td></tr><tr class="TableStyle-Basic-Body-Body1"><td style="font-weight: normal;" class="TableStyle-Basic-BodyE-Column1-Body1">options</td><td class="TableStyle-Basic-BodyE-Column1-Body1" style="font-weight: normal;">HashMap&lt;String, Object&gt;</td><td style="font-weight: normal;" class="TableStyle-Basic-BodyE-Column1-Body1">Setup options such as device database, encryption passphrase and so on.</td><td class="TableStyle-Basic-BodyD-Column1-Body1" style="font-weight: normal;">Yes</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyB-Column1-Body1">callback</td><td class="TableStyle-Basic-BodyB-Column1-Body1">KNYCallback</td><td class="TableStyle-Basic-BodyB-Column1-Body1">The application must implement onSuccess and onFailure methods of KNYCallback interface.</td><td class="TableStyle-Basic-BodyA-Column1-Body1">Yes</td></tr></tbody></table>

<h4 id="setup-options-1">Setup Options</h4>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Type</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>deviceDbEncryptionKey</td>
      <td>String</td>
      <td>Encryption passphrase must be a string with at least six characters long. For more information, refer to <a href="http://docs.kony.com/konylibrary/konyfabric/offline_objects_gettingstarted/Default.htm">Offline Objects Getting Started Guide</a>.</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h3 id="return-type-1">Return Type</h3>

<p>void</p>

<h3 id="error-codes-1">Error Codes</h3>

<table style="mc-table-style: url('Resources/TableStyles/Basic.css');border-top-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-bottom-left-radius: 0px;border-left-style: solid;border-left-width: 2px;border-left-color: #a9a9a9;border-right-style: solid;border-right-width: 2px;border-right-color: #a9a9a9;border-top-style: solid;border-top-width: 2px;border-top-color: #a9a9a9;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #a9a9a9;margin-left: 0;margin-right: auto;" class="TableStyle-Basic" cellspacing="0"><colgroup><col class="TableStyle-Basic-Column-Column1" /> <col class="TableStyle-Basic-Column-Column1" /></colgroup><tbody><tr class="TableStyle-Basic-Body-Body1"><td style="font-weight: bold;" class="TableStyle-Basic-BodyE-Column1-Body1">Error Code</td><td style="font-weight: bold;" class="TableStyle-Basic-BodyD-Column1-Body1">Error Text</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyB-Column1-Body1">106</td><td class="TableStyle-Basic-BodyA-Column1-Body1">Claims token is unavailable.</td></tr></tbody></table>

<h3 id="example-1">Example</h3>

<p>KonyClient sdk = new KonyClient();</p>

<p>IKonyApplicationSync appSync = sdk.getOfflineObjects();
//Encrypt the device database using a passphrase
HashMap &lt; String, object &gt; options = new HashMap &lt; String, object &gt; ();
options.put(“deviceDbEncryptionKey”, “myencryptionpa$$phrase1”);
appSync.setup(options, new KNYCallback() {
    @Override
    public void onSuccess(Object object) {
        Log.d(“Application Setup”, “Application setup successful”);
    }
    @Override
    public void onFailure(Object error) {
        OfflineObjectsException e = (OfflineObjectsException) error;
        Log.e(“Application Setup”, “Application setup failed with error:” + e.getMessage() + “callstack: “ + e.getStackTrace());
    }
});</p>

<h2 id="ios-objective-c">iOS (Objective C)</h2>

<h3 id="signature-2">Signature</h3>

<p>void <OfflineObjects> setup:(NSDictionary \*) options  
onSuccess:(KNYSuccessCompletionHandler)onSuccess  
onFailure:(KNYFailureCompletionHandler)onFailure;</OfflineObjects></p>

<h3 id="parameters-1">Parameters</h3>

<table style="mc-table-style: url('Resources/TableStyles/Basic.css');margin-left: 0;margin-right: auto;width: 100%;" class="TableStyle-Basic" cellspacing="0"><colgroup><col class="TableStyle-Basic-Column-Column1" style="width: 132px;" /> <col class="TableStyle-Basic-Column-Column1" style="width: 208px;" /> <col class="TableStyle-Basic-Column-Column1" style="width: 324px;" /> <col class="TableStyle-Basic-Column-Column1" style="width: 103px;" /></colgroup><tbody><tr class="TableStyle-Basic-Body-Body1"><td style="font-weight: bold;" class="TableStyle-Basic-BodyE-Column1-Body1">Parameter</td><td class="TableStyle-Basic-BodyE-Column1-Body1" style="font-weight: bold;">Type</td><td style="font-weight: bold;" class="TableStyle-Basic-BodyE-Column1-Body1">Description</td><td class="TableStyle-Basic-BodyD-Column1-Body1" style="font-weight: bold;">Required</td></tr><tr class="TableStyle-Basic-Body-Body1"><td style="font-weight: normal;" class="TableStyle-Basic-BodyE-Column1-Body1">options</td><td class="TableStyle-Basic-BodyE-Column1-Body1" style="font-weight: normal;">NSDictionary&lt;NSString*, id&gt;</td><td style="font-weight: normal;" class="TableStyle-Basic-BodyE-Column1-Body1">Setup options such as device database, encryption passphrase and so on.</td><td class="TableStyle-Basic-BodyD-Column1-Body1" style="font-weight: normal;">Yes</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyE-Column1-Body1">onSuccess</td><td class="TableStyle-Basic-BodyE-Column1-Body1">KNYSuccessCompletionHandler</td><td class="TableStyle-Basic-BodyE-Column1-Body1">The function is invoked on successful setup.</td><td class="TableStyle-Basic-BodyD-Column1-Body1">Yes</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyB-Column1-Body1">onFailure</td><td class="TableStyle-Basic-BodyB-Column1-Body1">KNYFailureCompletionHandler</td><td class="TableStyle-Basic-BodyB-Column1-Body1">The function is invoked on setup failure with the cause of failure as an argument.</td><td class="TableStyle-Basic-BodyA-Column1-Body1">Yes</td></tr></tbody></table>

<h4 id="setup-options-2">Setup Options</h4>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Type</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>deviceDbEncryptionKey</td>
      <td>NSString</td>
      <td>Encryption passphrase must be a string with at least six characters long. Refer <a href="http://docs.kony.com/konylibrary/konyfabric/offline_objects_gettingstarted/Default.htm">Offline Objects Getting started Guide</a> for more details.</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h3 id="return-type-2">Return Type</h3>

<p>void</p>

<h3 id="error-codes-2">Error Codes</h3>

<table style="mc-table-style: url('Resources/TableStyles/Basic.css');border-top-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-bottom-left-radius: 0px;border-left-style: solid;border-left-width: 2px;border-left-color: #a9a9a9;border-right-style: solid;border-right-width: 2px;border-right-color: #a9a9a9;border-top-style: solid;border-top-width: 2px;border-top-color: #a9a9a9;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #a9a9a9;margin-left: 0;margin-right: auto;" class="TableStyle-Basic" cellspacing="0"><colgroup><col class="TableStyle-Basic-Column-Column1" /> <col class="TableStyle-Basic-Column-Column1" /></colgroup><tbody><tr class="TableStyle-Basic-Body-Body1"><td style="font-weight: bold;" class="TableStyle-Basic-BodyE-Column1-Body1">Error Code</td><td style="font-weight: bold;" class="TableStyle-Basic-BodyD-Column1-Body1">Error Text</td></tr><tr class="TableStyle-Basic-Body-Body1"><td class="TableStyle-Basic-BodyB-Column1-Body1">106</td><td class="TableStyle-Basic-BodyA-Column1-Body1">Claims token is unavailable.</td></tr></tbody></table>

<h3 id="example-2">Example</h3>

<p>KNYClient * sdk = [KNYClient sharedClient];
OfflineObjects * applicationSync = [sdk getOfflineObjects];
//Encrypt the device database using a passphrase
NSMutableDictionary &lt; NSString * , id &gt; * options = [NSMutableDictionary new];
[options setobject: @”myencryptionpa$$phrase1”
    forKey: @”deviceDbEncryptionKey”
];
KNYSuccessCompletionHandler onSuccess = ^ void(id object) {
    NSLog(@”Application setup successful”);
};</p>

<p>KNYFailureCompletionHandler onFailure = ^ void(id object) {
    NSLog(@”Application setup failed”);
};
[applicationSync setup: options onSuccess: onSuccess
    onFailure: onFailure
];</p>

<p><a href="../Default.htm#OfflineObjectSetup.htm">Open topic with navigation</a></p>

  </div><a class="u-url" href="/pages/HCL-TECH-SOFTWARE/volt-mx-docs/2016/05/25/OfflineObjectSetup.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/pages/HCL-TECH-SOFTWARE/volt-mx-docs/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Your awesome title</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Your awesome title</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/pages/HCL-TECH-SOFTWARE/volt-mx-docs/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/pages/HCL-TECH-SOFTWARE/volt-mx-docs/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
